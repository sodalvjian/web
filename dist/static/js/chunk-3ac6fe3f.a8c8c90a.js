(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ac6fe3f"],{"102d":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"a",(function(){return o})),a.d(e,"c",(function(){return s}));var i=a("b775");function n(t,e){return Object(i["a"])({url:"api/phenoType/".concat(t.page,"/").concat(t.size),method:"POST",data:e})}function o(t){return Object(i["a"])({url:"api/phenoType?ids=".concat(t.id),method:"DELETE"})}function s(t){return Object(i["a"])({url:"api/phenoType/",method:"PUT",data:t})}},1441:function(t,e,a){},"5dad":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{staticClass:"vital-container cb"},[a("strong",{staticClass:"fl nav-title mt-10 f16"},[t._v("Phenotype List")]),t._v(" "),a("div",{staticClass:"fr"},[a("el-select",{staticClass:"radius-input mr-15",attrs:{size:"medium",clearable:"",placeholder:"Please select type"},model:{value:t.queryData.type,callback:function(e){t.$set(t.queryData,"type",e)},expression:"queryData.type"}},t._l(t.typeOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),t._v(" "),a("el-input",{staticClass:"radius-input search-input mr-15",attrs:{size:"medium",clearable:"",placeholder:"Please enter the keyword"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSearch(e)}},model:{value:t.queryData.keyword,callback:function(e){t.$set(t.queryData,"keyword",e)},expression:"queryData.keyword"}},[a("i",{staticClass:"el-input__icon el-icon-search cp",attrs:{slot:"suffix",title:"Search"},on:{click:t.handleSearch},slot:"suffix"})]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"medium",round:"",plain:""},on:{click:t.enterSharedRecord}},[a("i",{staticClass:"el-icon-share mr-5"}),t._v("Shared record")])],1)]),t._v(" "),a("section",{directives:[{name:"show",rawName:"v-show",value:t.selectShow,expression:"selectShow"}],staticClass:"mt-20 vital-container select-center radius5 color-black f15"},[a("span",{staticClass:"mr-20 cp",on:{click:function(e){return t.shareData(!1)}}},[a("i",{staticClass:"el-icon-share mr-5"}),t._v("Share")]),t._v(" "),a("span",{staticClass:"mr-20 cp",on:{click:t.batchDelete}},[a("i",{staticClass:"el-icon-delete mr-5"}),t._v("Delete")]),t._v(" "),a("span",{staticClass:"mr-20 cp",on:{click:t.addPatientList}},[a("i",{staticClass:"el-icon-circle-plus-outline mr-5"}),t._v("Add to a patient\n      list")])]),t._v(" "),a("section",{staticClass:"mt-20 vital-container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData},on:{"selection-change":t.handleSelectionChange,"row-click":t.viewPhenotype}},[a("no-data-table",{attrs:{slot:"empty"},slot:"empty"}),t._v(" "),a("el-table-column",{attrs:{type:"selection",align:"center",width:"45"}}),t._v(" "),a("el-table-column",{attrs:{type:"index",label:"NO.",align:"center",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"Name","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{label:"Description","min-width":"190"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.description?e.row.description:"--")+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"Type",width:"90"}}),t._v(" "),a("el-table-column",{attrs:{label:"Owner",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.sourceUser?e.row.sourceUser.name:"--")+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"Created",label:"Created",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t._f("setHourDate")(e.row.create))+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Operation",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-share color-main cp mr-10",attrs:{title:"Share"},on:{click:function(a){return a.stopPropagation(),t.shareData(e.row)}}}),t._v(" "),a("i",{staticClass:"iconfont icon-shanchu color-red cp",on:{click:function(a){return a.stopPropagation(),t.deleteData(e.row)}}})]}}])})],1),t._v(" "),a("div",{staticClass:"tr mt-20"},[a("el-pagination",{attrs:{"current-page":t.page,"page-size":t.pageSize,"hide-on-single-page":!0,background:"",layout:"total,prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1),t._v(" "),a("upload-module",{ref:"uploadModule"}),t._v(" "),a("share-module",{ref:"shareModule",attrs:{"shart-list":t.shartList}}),t._v(" "),a("el-dialog",{attrs:{title:"Add to a patient list",visible:t.dialogVisible,width:"50%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",[a("div",{staticClass:"color-main f16 fb"},[t._v("\n        Select your patient list you want to add\n      ")]),t._v(" "),a("el-select",{staticClass:"w radius-input mt-20",attrs:{filterable:"",remote:"",loading:t.patientListLoading,"remote-method":t.getPatientList,multiple:"",placeholder:"Please select patient list"},model:{value:t.addPatientData,callback:function(e){t.addPatientData=e},expression:"addPatientData"}},t._l(t.patientsOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{round:""},on:{click:function(e){t.dialogVisible=!1}}},[t._v("Cancel")]),t._v(" "),a("el-button",{attrs:{round:"",type:"primary"},on:{click:t.confirmPatient}},[t._v("Confirm")])],1)])],1)},n=[],o=a("102d"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:"Upload",visible:t.dialogVisible,width:"50%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"formData",attrs:{"label-position":"top",model:t.formData,"label-width":"80px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Patient list name"}},[a("el-input",{model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Patient list description"}},[a("el-input",{model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1)],1)],1),t._v(" "),a("h3",{staticClass:"color-main"},[t._v("Select the type of text you upload")]),t._v(" "),a("el-row",{staticClass:"mt-30",attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"tc bd-1 radius5 p20 cp"},[a("div",{staticClass:"mt-20"},[a("svg",{staticClass:"icon f65 mr-5",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-A"}})])]),t._v(" "),a("div",{staticClass:"f18 fb mt-10 mb-40"},[t._v("Upload files")])])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"tc bd-1 radius5 p20 cp"},[a("div",{staticClass:"mt-20"},[a("svg",{staticClass:"icon f65 mr-5",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-A1"}})])]),t._v(" "),a("div",{staticClass:"f18 fb mt-10 mb-40"},[t._v("Database connection")])])])],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"mt-20"},[a("el-button",{attrs:{round:""},on:{click:function(e){t.dialogVisible=!1}}},[t._v("Cancel")]),t._v(" "),a("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){t.dialogVisible=!1}}},[t._v("Confirm")])],1)])],1)],1)},r=[],l={name:"",components:{},props:{},data:function(){return{formData:{},dialogVisible:!1}},created:function(){},mounted:function(){},methods:{openDialog:function(){this.dialogVisible=!0}},filter:{},computed:{},watch:{}},c=l,u=a("4023"),d=Object(u["a"])(c,s,r,!1,null,"10cfc6dd",null),p=d.exports,h=a("5f3e"),m=a("70cc"),f={components:{uploadModule:p,shareModule:h["a"]},data:function(){return{page:1,total:0,pageSize:10,loading:!1,dialogVisible:!1,patientListLoading:!1,selectShow:!1,addPatientData:[],patientsOptions:[],shartList:[],queryData:{type:""},tableData:[],typeOptions:[{label:"private",value:"private"},{label:"share",value:"share"}],multipleSelection:[]}},computed:{},watch:{},created:function(){},mounted:function(){this.getList()},methods:{handleSearch:function(){this.page=1,this.getList()},handleCurrentChange:function(t){this.page=t,this.getList()},batchDelete:function(){var t=this;this.multipleSelection.length>0?this.$confirm("Confirm delete?",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"}).then((function(){var e=t.multipleSelection.map((function(t){return t.id})),a={id:e.join(",")};Object(o["a"])(a).then((function(e){200===e.code?(t.$message.success(e.message),t.getList()):t.$message.error(e.message)}))})).catch((function(){})):this.$message.error("Please select data")},confirmPatient:function(){var t=this,e=[];this.multipleSelection.map((function(a){return[e.push({id:a.id,pIds:t.addPatientData})]})),Object(o["c"])(e).then((function(e){200===e.code?(t.$message.success(e.message),t.dialogVisible=!1,t.getList()):t.$message.error(e.message)}))},addPatientList:function(){this.dialogVisible=!0,this.getPatientList()},getPatientList:function(t){var e=this,a={name:t},i={page:1,size:10};this.patientListLoading=!0,Object(m["c"])(a,i).then((function(t){200===t.code?(e.patientsOptions=t.data.content,e.patientListLoading=!1):(e.$message.error(t.message),e.patientListLoading=!1)}))},deleteData:function(t){var e=this;this.$confirm("Confirm delete?",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"}).then((function(){var a={id:t.id};Object(o["a"])(a).then((function(t){200===t.code?(e.$message.success(t.message),e.getList()):e.$message.error(t.message)}))})).catch((function(){}))},getList:function(){var t=this,e={page:this.page,size:10},a={name:this.queryData.keyword,type:this.queryData.type};this.loading=!0,Object(o["b"])(e,a).then((function(e){200===e.code?(t.tableData=e.data.content,t.total=e.data.totalElements,t.loading=!1):t.$message.error(e.message)}))},handleSelectionChange:function(t){this.multipleSelection=t,this.multipleSelection.length>0?this.selectShow=!0:this.selectShow=!1},viewPhenotype:function(t,e,a){this.$router.push({path:"/phenotypeDetail",query:{id:t.id}})},shareData:function(t){this.shartList=t?[t.id]:this.multipleSelection.map((function(t){return t.id})),this.$refs.shareModule.openDialog("phonetype")},enterSharedRecord:function(){this.$router.push({path:"/sharedRecord",query:{type:"phenotype"}})},uploadData:function(){this.$refs.uploadModule.openDialog()}}},v=f,g=(a("dea0"),Object(u["a"])(v,i,n,!1,null,"5f7338b2",null));e["default"]=g.exports},"5f3e":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:"Share to",visible:t.dialogVisible,width:"50%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"formData",attrs:{"label-position":"top",model:t.formData,"label-width":"80px"}},[a("h3",{staticClass:"color-main"},[t._v("\n        Please into the user name you want to share with\n      ")]),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form-item",[a("el-select",{staticClass:"w radius-input",attrs:{multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:"Please enter","remote-method":t.remoteMethod,loading:t.loading},model:{value:t.formData.people,callback:function(e){t.$set(t.formData,"people",e)},expression:"formData.people"}},t._l(t.options,(function(t){return a("el-option",{key:t.id,attrs:{label:t.username,value:t.id}})})),1)],1)],1)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"mt-20"},[a("el-button",{attrs:{round:""},on:{click:function(e){t.dialogVisible=!1}}},[t._v("Cancel")]),t._v(" "),a("el-button",{attrs:{type:"primary",round:""},on:{click:t.confirmBtn}},[t._v("Confirm")])],1)])],1)],1)},n=[],o=a("b775");function s(t){return Object(o["a"])({url:"api/users/get?name=".concat(t),method:"GET"})}function r(t){return Object(o["a"])({url:"api/patientList/sharePatientList",method:"POST",params:t})}function l(t){return Object(o["a"])({url:"api/phenoType/sharePhenoType",method:"POST",params:t})}var c={name:"",components:{},props:["shartList"],data:function(){return{loading:!1,shareType:"",formData:{people:[]},options:[],dialogVisible:!1}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{remoteMethod:function(t){var e=this;""!==t?(this.loading=!0,s(t).then((function(t){200===t.code?(e.loading=!1,e.options=t.data.content):e.$message.error(t.message)}))):this.options=[]},confirmBtn:function(){var t=this;if(this.formData.people.length>0){var e=this.formData.people.map((function(t){return t})),a="phonetype"===this.shareType?{phenoTypeId:this.shartList.join(","),userId:e.join(",")}:{id:this.shartList.join(","),userId:e.join(",")},i="phonetype"===this.shareType?l:r;i(a).then((function(e){200===e.code?(t.$message.success(e.message),t.dialogVisible=!1):t.$message.error("Please select user")}))}else this.$message.error("Please select user")},openDialog:function(t){this.shareType=t,this.dialogVisible=!0,this.options=[],this.formData.people=[]}},filter:{}},u=c,d=a("4023"),p=Object(d["a"])(u,i,n,!1,null,"3335e9f9",null);e["a"]=p.exports},"70cc":function(t,e,a){"use strict";a.d(e,"d",(function(){return n})),a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return s})),a.d(e,"f",(function(){return r})),a.d(e,"a",(function(){return l})),a.d(e,"e",(function(){return c})),a.d(e,"g",(function(){return u}));var i=a("b775");function n(t){return Object(i["a"])({url:"api/search/synonyms",method:"POST",params:t})}function o(t,e){return Object(i["a"])({url:"api/concept/".concat(t),method:"GET",params:e})}function s(t,e){return Object(i["a"])({url:"api/patientList/".concat(e.page,"/").concat(e.size),method:"POST",data:t})}function r(t){return Object(i["a"])({url:"api/search/nestQueryAgg",method:"POST",data:t})}function l(t){return Object(i["a"])({url:"api/concept/child/".concat(t,"/0/1000"),method:"get"})}function c(t){return Object(i["a"])({url:"/api/patientList/createPatientList",method:"POST",data:t})}function u(t){return Object(i["a"])({url:"/api/search/phenotypeSearch",method:"POST",data:t})}},dea0:function(t,e,a){"use strict";var i=a("1441"),n=a.n(i);n.a}}]);