(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-511e9dd0"],{"0e42":function(t,e,a){},"4b3a":function(t,e,a){"use strict";a("0e42")},"4e73":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("sider"),t._v(" "),a("article",{staticClass:"user-container bg-color-white w"},[a("nav",{staticClass:"p25 bb-1"},[a("strong",{staticClass:"f18 color-black"},[a("router-link",{staticClass:"color-main f19",attrs:{to:"/"}},[a("i",{staticClass:"mr-10 el-icon-arrow-left fb"})]),t._v("\n        Bills & Credits\n      ")],1)]),t._v(" "),a("section",{staticClass:"p25 w"},[a("nav",[a("el-row",{staticClass:"w"},[a("el-col",{attrs:{span:16}},[a("strong",{staticClass:"color-black f15"},[t._v(" Vouchers")])])],1)],1),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.couponLoading,expression:"couponLoading"}],staticClass:"mt-15 coupon-container"},[0===t.couponData.length?a("div",{staticClass:"mt-20 mb-40 pt-50 tc color-hui bbs-1 bts-1 pb-50"},[t._v("\n          No Voucher\n        ")]):a("div",t._l(t.couponData,(function(e,n){return a("el-card",{key:n,staticClass:"mt-20",attrs:{shadow:"hover"}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:2}},[a("i",{staticClass:"el-icon-s-ticket color-main f40"})]),t._v(" "),a("el-col",{attrs:{span:10}},[a("div",{staticClass:"mt-3 "},[a("strong",{staticClass:"f24"},[t._v("$ "+t._s(e.quota))])]),t._v(" "),a("div",{staticClass:"mt-10 color-8"},[t._v("\n                  Expiration dateï¼š"+t._s(t._f("setNormalDate")(e.expireDate))+"\n                ")])]),t._v(" "),a("el-col",{attrs:{span:9}},[a("div",{staticClass:"mt-3 "},[a("strong",{staticClass:"f24"},[t._v("$ "+t._s(e.remaining))])]),t._v(" "),a("div",{staticClass:"mt-10 color-8"},[t._v("Remaining balance")])])],1)],1)})),1)]),t._v(" "),a("nav",{staticClass:"mt-40"},[a("el-row",{staticClass:"w"},[a("el-col",{attrs:{span:16}},[a("strong",{staticClass:"color-black f15"},[t._v("Month-to-Date Spend By Service")])]),t._v(" "),a("el-col",{attrs:{span:8,align:"right"}},[a("strong",{staticClass:"color-black mr-15 f15"},[t._v("$ "+t._s(t.totalCharges))])])],1)],1),t._v(" "),a("div",{staticClass:"mt-15"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.billingLoading,expression:"billingLoading"}],staticStyle:{width:"100%"},attrs:{data:t.summaryData,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"Summary",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{align:"right",label:"","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"mr-30"},[t._v("$ "+t._s(e.row.cost))])]}}])})],1)],1),t._v(" "),a("nav",{staticClass:"mt-40"},[a("el-row",{staticClass:"w"},[a("el-col",{attrs:{span:16}},[a("strong",{staticClass:"color-black f15"},[t._v("Bill History")])]),t._v(" "),a("el-col",{attrs:{span:8,align:"right"}},[a("el-date-picker",{attrs:{type:"monthrange",size:"small","range-separator":"~","start-placeholder":"Begin month","value-format":"yyyy-MM","end-placeholder":"End month","picker-options":t.pickerOptions},on:{change:t.changeMonthRange},model:{value:t.monthRange,callback:function(e){t.monthRange=e},expression:"monthRange"}})],1)],1)],1),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.costLoading,expression:"costLoading"}],staticClass:"mt-15"},[0===t.tableData.length?a("no-data"):a("v-chart",{ref:"bar",staticStyle:{height:"380px",width:"100%"},attrs:{theme:"light",options:t.barData,autoresize:""}})],1),t._v(" "),a("div",{staticClass:"mt-40"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.costLoading,expression:"costLoading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"analysisType",label:"Pipeline","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.aliasPipeline&&e.row.aliasPipelinev?e.row.aliasPipeline+":"+e.row.aliasPipelinev:e.row.analysisType)+"\n            ")]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"type",label:"Type",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"fileCount",label:"Number of files",align:"center","min-width":"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cost",label:"Cost",align:"center","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" $ "+t._s(e.row.cost)+" ")]}}])})],1)],1),t._v(" "),a("section",{directives:[{name:"loading",rawName:"v-loading",value:t.feeLoading,expression:"feeLoading"}],staticClass:"mt-30 p20"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-col",{attrs:{span:21}},[a("strong",{staticClass:"f16"},[t._v("Monthly maximum limit")])]),t._v(" "),a("el-col",{attrs:{span:3,align:"right"}},[a("i",{staticClass:"el-icon-edit cp f20 color-main",on:{click:t.handleConnect}})]),t._v(" "),a("el-col",{staticClass:"mt-15",attrs:{span:24}},[a("strong",{staticClass:"f26"},[t._v("$ "+t._s(t.quotaSetting.QUOTA.val))])])],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-col",{attrs:{span:21}},[a("strong",{staticClass:"f16"},[t._v("Maximum single task limit")])]),t._v(" "),a("el-col",{attrs:{span:3,align:"right"}},[a("i",{staticClass:"el-icon-edit cp f20 color-main",on:{click:t.handleConnect}})]),t._v(" "),a("el-col",{staticClass:"mt-15",attrs:{span:24}},[a("strong",{staticClass:"f26"},[t._v("$ "+t._s(t.quotaSetting.TASK_QUOTA.val))])])],1)],1)],1)])])],1)},o=[],i=a("4360"),s=a("bb58"),r=a("2a50"),c=(a("6722"),a("58f8"),a("f4b1"),[{top:"#155dee",bottom:"#155dee"},{top:"#155dee",bottom:"#155dee"}]),l={backgroundColor:"#fff",grid:{top:"15%",right:0,left:"60px",bottom:"12%"},tooltip:{trigger:"axis",padding:10},dataZoom:[{show:!0,height:30,xAxisIndex:[0],bottom:30,start:10,end:80,handleStyle:{color:"#3693ff"}},{type:"inside",show:!0,height:15,start:10,end:80}],xAxis:[{type:"category",color:"#59588D",data:[],axisLabel:{margin:20,color:"#999",textStyle:{fontSize:14}},axisLine:{lineStyle:{color:"rgba(107,107,107,0.37)"}},axisTick:{show:!1}}],yAxis:[{min:0,axisLabel:{formatter:"${value}",color:"#999",textStyle:{fontSize:14}},axisLine:{lineStyle:{color:"rgba(107,107,107,0.37)"}},axisTick:{show:!1},splitLine:{lineStyle:{color:"rgba(131,101,101,0.2)",type:"dashed"}}}],series:[{type:"bar",data:[],barWidth:"20px",itemStyle:{normal:{color:function(t){var e=c.length;return new r["a"].graphic.LinearGradient(0,0,0,1,[{offset:0,color:c[t.dataIndex%e].top},{offset:1,color:c[t.dataIndex%e].bottom}],!1)},barBorderRadius:[30,30,0,0]}},label:{normal:{show:!0,fontSize:14,fontWeight:"bold",formatter:"${c}",color:"#333",position:"top"}}}]},u=a("caaf"),d=a.n(u),m=a("6455"),h={name:"",components:{Sider:s["a"],"v-chart":r["a"]},props:{},data:function(){return{pickerOptions:{shortcuts:[{text:"This month",onClick:function(t){t.$emit("pick",[new Date,new Date])}},{text:"This year",onClick:function(t){var e=new Date,a=new Date((new Date).getFullYear(),0);t.$emit("pick",[a,e])}},{text:"Last 6 months",onClick:function(t){var e=new Date,a=new Date;a.setMonth(a.getMonth()-6),t.$emit("pick",[a,e])}}]},billingLoading:!1,costLoading:!1,couponLoading:!1,userId:i["a"].getters.userInfo.userId,barData:{},monthRange:[d()().startOf("year").format("yyyy-MM"),d()().format("yyyy-MM")],totalCharges:0,summaryData:[],tableData:[],dashboardData:{minYearMonth:"",maxYearMonth:""},couponData:[],feeLoading:!1,quotaSetting:{QUOTA:{},TASK_QUOTA:{},MAIL_TO_USER:{}}}},computed:{},watch:{},created:function(){},mounted:function(){this.getBillingSummary(),this.getCostDashboard(),this.getVoucher(),this.getVoucherPublic()},beforeDestroy:function(){},methods:{handleConnect:function(){this.$alert('<div class="cb">\n        <div class="fl w10">\n        <i class="el-icon-warning color-yellow f26 mr-15"></i></div>\n        <div class="fl w90">\n        <strong>Please contact the administrator if you want to change the amount limit</strong>\n        <div class="mt-10 color-red">\n        E-mail: <a href=mailto:'.concat(this.quotaSetting.MAIL_TO_USER.val,">").concat(this.quotaSetting.MAIL_TO_USER.val,"</a>\n        </div>\n        </div>\n        </div>\n        "),{confirmButtonText:"OK",center:!0,dangerouslyUseHTMLString:!0,customClass:"show-connect-info"})},getVoucherPublic:function(){var t=this;this.feeLoading=!0,Object(m["m"])().then((function(e){t.feeLoading=!1,200===e.code&&(t.quotaSetting=e.data)}))},changeMonthRange:function(){this.getBillingSummary(),this.getCostDashboard()},openBillDetail:function(){this.$router.push("/user/billDetail")},getVoucher:function(){var t=this,e={userId:this.userId};this.couponLoading=!0,Object(m["o"])(e).then((function(e){t.couponLoading=!1,200===e.code&&(t.couponData=e.data)}))},getCostDashboard:function(){var t=this,e={maxYearMonth:this.monthRange&&this.monthRange.length>0?this.monthRange[1]:"",minYearMonth:this.monthRange&&this.monthRange.length>0?this.monthRange[0]:""};this.costLoading=!0,Object(m["i"])(e).then((function(e){t.costLoading=!1;var a=e.data;l.series[0].data=Object.values(a.spendingTrends),l.xAxis[0].data=Object.keys(a.spendingTrends),t.barData=l,t.tableData=a.analysisCosts}))},getBillingSummary:function(){var t=this;this.billingLoading=!0,Object(m["h"])().then((function(e){t.billingLoading=!1;var a=e.data;t.totalCharges=a.totalCharges,t.summaryData=[{name:"Charges",cost:a.charges},{name:"TAX*",cost:a.tax}]}))}}},g=h,f=(a("4b3a"),a("5d22")),p=Object(f["a"])(g,n,o,!1,null,"939b7e40",null);e["default"]=p.exports},6455:function(t,e,a){"use strict";a.d(e,"a",(function(){return o})),a.d(e,"n",(function(){return i})),a.d(e,"h",(function(){return s})),a.d(e,"g",(function(){return r})),a.d(e,"i",(function(){return c})),a.d(e,"j",(function(){return l})),a.d(e,"k",(function(){return u})),a.d(e,"q",(function(){return d})),a.d(e,"e",(function(){return m})),a.d(e,"d",(function(){return h})),a.d(e,"f",(function(){return g})),a.d(e,"p",(function(){return f})),a.d(e,"c",(function(){return p})),a.d(e,"m",(function(){return v})),a.d(e,"o",(function(){return b})),a.d(e,"l",(function(){return _})),a.d(e,"b",(function(){return w}));var n=a("b775");function o(t){return Object(n["a"])({url:"account/user/update/personal/info",method:"post",data:t})}function i(){return Object(n["a"])({url:"account/user/get/personal/info",method:"get"})}function s(){return Object(n["a"])({url:"account/user/get/billing/summary",method:"get"})}function r(t){return Object(n["a"])({url:"acc/billdetail/".concat(t),method:"get"})}function c(t){return Object(n["a"])({url:"account/user/get/cost/dashboard",method:"post",data:t})}function l(t){return Object(n["a"])({url:"account/user/get/order/invoice",method:"post",data:t})}function u(){return Object(n["a"])({url:"account/user/get/payment/due",method:"get"})}function d(t){return Object(n["a"])({url:"account/user/update/password",method:"post",data:t})}function m(t){return Object(n["a"])({url:"account/user/generate/single/invoice/".concat(t[0]),method:"get"})}function h(t){return Object(n["a"])({url:"account/user/generate/multi/invoice",method:"post",data:t})}function g(t){return Object(n["a"])({url:"payment/listcards",method:"get"})}function f(t){return Object(n["a"])({url:"payment/card/default?id=".concat(t.id),method:"post"})}function p(t){return Object(n["a"])({url:"payment/detachcard?id=".concat(t.id),method:"delete"})}function v(){return Object(n["a"])({url:"jobbizweb/quotasettings",method:"get"})}function b(t){return Object(n["a"])({url:"jobbizweb/voucher",method:"get",params:t})}function _(){return Object(n["a"])({url:"payment/public-key",method:"get"})}function w(){return Object(n["a"])({url:"payment/create-setup-intent",method:"get"})}},"93be":function(t,e,a){},bb58:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("aside",{staticClass:"user-sider br-1 bg-color-white"},[a("ul",{staticClass:"user-sider-mean"},[a("router-link",{attrs:{to:"/user/cost"}},[a("li",{class:t.handleActive("cost")},[t._v("\n        Bills & Credits\n      ")])]),t._v(" "),a("router-link",{attrs:{to:"/user/orderInvoice"}},[a("li",{class:t.handleActive("orderInvoice")},[t._v("\n        Payments\n      ")])]),t._v(" "),a("router-link",{attrs:{to:"/user/personalInfo"}},[a("li",{class:t.handleActive("personalInfo")},[t._v("\n        Payment Information\n      ")])]),t._v(" "),a("router-link",{attrs:{to:"/user/accountPassword"}},[a("li",{class:t.handleActive("accountPassword")},[t._v("\n        Account Security\n      ")])])],1)])},o=[],i=a("4360"),s=a("690a"),r={name:"",components:{},props:{},data:function(){return{userName:i["a"].getters.userInfo.accountName,avatarSrc:i["a"].getters.userInfo.imagePath||s,feeLoading:!1}},computed:{},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{handleConnect:function(){this.$alert('<div class="cb">\n        <div class="fl w10">\n        <i class="el-icon-warning color-yellow f26 mr-15"></i></div>\n        <div class="fl w90">\n        <strong>Please contact the administrator if you want to change the amount limit</strong>\n        <div class="mt-10 color-red">\n        E-mail: <a href=mailto:'.concat(this.quotaSetting.MAIL_TO_USER.val,">").concat(this.quotaSetting.MAIL_TO_USER.val,"</a>\n        </div>\n        </div>\n        </div>\n        "),{confirmButtonText:"OK",center:!0,dangerouslyUseHTMLString:!0,customClass:"show-connect-info"})},handleActive:function(t){var e=this.$route.name;return e===t?"active":""}}},c=r,l=(a("c120"),a("5d22")),u=Object(l["a"])(c,n,o,!1,null,null,null);e["a"]=u.exports},c120:function(t,e,a){"use strict";a("93be")}}]);