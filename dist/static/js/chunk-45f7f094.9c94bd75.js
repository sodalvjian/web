(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45f7f094"],{"0a7a":function(t,a,e){},"4e73":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{},[e("sider"),t._v(" "),e("article",{staticClass:"user-container bg-color-white w"},[e("nav",{staticClass:"p25 bb-1"},[e("strong",{staticClass:"f18 color-black"},[e("router-link",{staticClass:"color-main f19",attrs:{to:"/"}},[e("i",{staticClass:"mr-10 el-icon-arrow-left fb"})]),t._v("\n        Billing & Cost Management\n      ")],1)]),t._v(" "),e("section",{staticClass:"mt-10 p25 w"},[e("nav",[e("el-row",{staticClass:"w"},[e("el-col",{attrs:{span:16}},[e("strong",{staticClass:"color-black f15"},[t._v("Month-to-Date Spend By Service")])]),t._v(" "),e("el-col",{attrs:{span:8,align:"right"}},[e("strong",{staticClass:"color-black mr-15 f15"},[t._v("$ "+t._s(t.totalCharges))]),t._v(" "),e("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.openBillDetail}},[t._v("Bill Details")])],1)],1)],1),t._v(" "),e("div",{staticClass:"mt-15"},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.billingLoading,expression:"billingLoading"}],staticStyle:{width:"100%"},attrs:{data:t.summaryData,border:""}},[e("el-table-column",{attrs:{prop:"name",label:"Summary",width:"180"}}),t._v(" "),e("el-table-column",{attrs:{align:"right",label:"","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"mr-30"},[t._v(t._s(a.row.cost))])]}}])})],1)],1),t._v(" "),e("nav",{staticClass:"mt-30"},[e("el-row",{staticClass:"w"},[e("el-col",{attrs:{span:16}},[e("strong",{staticClass:"color-black f15"},[t._v(" Vouchers and Credits")])])],1)],1),t._v(" "),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.couponLoading,expression:"couponLoading"}],staticClass:"mt-15 coupon-container"},[0===t.couponData.length?e("div",{staticClass:"mt-20 mb-40 pt-50 tc color-hui bbs-1 bts-1 pb-50"},[t._v("\n          No Coupon\n        ")]):e("div",t._l(t.couponData,(function(a,n){return e("el-card",{key:n,staticClass:"mt-20",attrs:{shadow:"hover"}},[e("el-row",{attrs:{gutter:10}},[e("el-col",{attrs:{span:2}},[e("i",{staticClass:"el-icon-s-ticket color-main f40"})]),t._v(" "),e("el-col",{attrs:{span:10}},[e("div",{staticClass:"mt-3 "},[e("strong",{staticClass:"f24"},[t._v("$ "+t._s(a.quota))])]),t._v(" "),e("div",{staticClass:"mt-10 color-8"},[t._v("\n                  Expiration Dateï¼š"+t._s(a.expireDate)+"\n                ")])]),t._v(" "),e("el-col",{attrs:{span:9}},[e("div",{staticClass:"mt-3 "},[e("strong",{staticClass:"f24"},[t._v("$ "+t._s(a.remaining))])]),t._v(" "),e("div",{staticClass:"mt-10 color-8"},[t._v("Remaining amount")])])],1)],1)})),1)]),t._v(" "),e("nav",{staticClass:"mt-30"},[e("el-row",{staticClass:"w"},[e("el-col",{attrs:{span:16}},[e("strong",{staticClass:"color-black f15"},[t._v("Cost Dashboard")])]),t._v(" "),e("el-col",{attrs:{span:8,align:"right"}},[e("el-date-picker",{attrs:{type:"monthrange",size:"small","range-separator":"~","start-placeholder":"Begin month","value-format":"yyyy-MM","end-placeholder":"End month"},on:{change:t.changeMonthRange},model:{value:t.monthRange,callback:function(a){t.monthRange=a},expression:"monthRange"}})],1)],1)],1),t._v(" "),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.costLoading,expression:"costLoading"}],staticClass:"mt-15"},[0===t.tableData.length?e("no-data"):e("v-chart",{ref:"bar",staticStyle:{height:"380px",width:"100%"},attrs:{theme:"light",options:t.barData,autoresize:""}})],1),t._v(" "),e("div",{staticClass:"mt-15"},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.costLoading,expression:"costLoading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[e("el-table-column",{attrs:{prop:"analysisType",label:"Pipeline","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n              "+t._s(a.row.aliasPipeline&&a.row.aliasPipelinev?a.row.aliasPipeline+":"+a.row.aliasPipelinev:a.row.analysisType)+"\n            ")]}}])}),t._v(" "),e("el-table-column",{attrs:{align:"center",prop:"type",label:"Type",width:"100"}}),t._v(" "),e("el-table-column",{attrs:{prop:"fileCount",label:"File count",align:"center","min-width":"180"}}),t._v(" "),e("el-table-column",{attrs:{prop:"cost",label:"Cost",align:"center","min-width":"180"}})],1)],1)])])],1)},s=[],o=e("4360"),i=e("bb58"),l=e("2a50"),r=(e("6722"),e("58f8"),e("f4b1"),[{top:"#155dee",bottom:"#155dee"},{top:"#f75a7f",bottom:"#f75a7f"}]),c={backgroundColor:"#fff",grid:{top:"15%",right:0,left:"60px",bottom:"12%"},tooltip:{trigger:"axis",padding:10},dataZoom:[{show:!0,height:30,xAxisIndex:[0],bottom:30,start:10,end:80,handleStyle:{color:"#3693ff"}},{type:"inside",show:!0,height:15,start:10,end:80}],xAxis:[{type:"category",color:"#59588D",data:[],axisLabel:{margin:20,color:"#999",textStyle:{fontSize:14}},axisLine:{lineStyle:{color:"rgba(107,107,107,0.37)"}},axisTick:{show:!1}}],yAxis:[{min:0,axisLabel:{formatter:"{value}",color:"#999",textStyle:{fontSize:14}},axisLine:{lineStyle:{color:"rgba(107,107,107,0.37)"}},axisTick:{show:!1},splitLine:{lineStyle:{color:"rgba(131,101,101,0.2)",type:"dashed"}}}],series:[{type:"bar",data:[],barWidth:"20px",itemStyle:{normal:{color:function(t){var a=r.length;return new l["a"].graphic.LinearGradient(0,0,0,1,[{offset:0,color:r[t.dataIndex%a].top},{offset:1,color:r[t.dataIndex%a].bottom}],!1)},barBorderRadius:[30,30,0,0]}},label:{normal:{show:!0,fontSize:14,fontWeight:"bold",color:"#333",position:"top"}}}]},d=e("6455"),u={name:"",components:{Sider:i["a"],"v-chart":l["a"]},props:{},data:function(){return{billingLoading:!1,costLoading:!1,couponLoading:!1,userId:o["a"].getters.userInfo.userId,barData:{},monthRange:[],totalCharges:0,summaryData:[],tableData:[],dashboardData:{minYearMonth:"",maxYearMonth:""},couponData:[]}},computed:{},watch:{},created:function(){},mounted:function(){this.getBillingSummary(),this.getCostDashboard(),this.getVoucher()},beforeDestroy:function(){},methods:{changeMonthRange:function(){this.getBillingSummary(),this.getCostDashboard()},openBillDetail:function(){this.$router.push("/user/billDetail")},getVoucher:function(){var t=this,a={userId:this.userId};this.couponLoading=!0,Object(d["p"])(a).then((function(a){t.couponLoading=!1,200===a.code&&(t.couponData=a.data)}))},getCostDashboard:function(){var t=this,a={maxYearMonth:this.monthRange&&this.monthRange.length>0?this.monthRange[1]:"",minYearMonth:this.monthRange&&this.monthRange.length>0?this.monthRange[0]:""};this.costLoading=!0,Object(d["j"])(a).then((function(a){t.costLoading=!1;var e=a.data;c.series[0].data=Object.values(e.spendingTrends),c.xAxis[0].data=Object.keys(e.spendingTrends),t.barData=c,t.tableData=e.analysisCosts}))},getBillingSummary:function(){var t=this;this.billingLoading=!0,Object(d["i"])().then((function(a){t.billingLoading=!1;var e=a.data;t.totalCharges=e.totalCharges,t.summaryData=[{name:"Charges",cost:e.charges},{name:"TAX*",cost:e.tax}]}))}}},g=u,h=(e("cb0b"),e("5d22")),m=Object(h["a"])(g,n,s,!1,null,"6cd30906",null);a["default"]=m.exports},"93be":function(t,a,e){},bb58:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("aside",{staticClass:"user-sider br-1 bg-color-white"},[e("nav",{staticClass:"tc bb-1 p20"},[e("el-avatar",{attrs:{shape:"circle",size:80,src:t.avatarSrc}}),t._v(" "),e("div",{staticClass:"mt-10"},[e("strong",{staticClass:"color-black f16"},[t._v(t._s(t.userName)+" ")])])],1),t._v(" "),e("section",{directives:[{name:"loading",rawName:"v-loading",value:t.feeLoading,expression:"feeLoading"}],staticClass:"mt-20 p20"},[e("el-row",[e("el-col",{attrs:{span:21}},[e("strong",{staticClass:"f16"},[t._v("Monthly maximum expense")])]),t._v(" "),e("el-col",{attrs:{span:3,align:"right"}},[e("i",{staticClass:"el-icon-edit cp f20 color-main",on:{click:t.handleConnect}})]),t._v(" "),e("el-col",{staticClass:"mt-15",attrs:{span:24}},[e("strong",{staticClass:"f26"},[t._v("$ "+t._s(t.quotaSetting.QUOTA.val))])])],1),t._v(" "),e("el-row",{staticClass:"mt-30"},[e("el-col",{attrs:{span:21}},[e("strong",{staticClass:"f16"},[t._v("Maximum expense for a single task")])]),t._v(" "),e("el-col",{attrs:{span:3,align:"right"}},[e("i",{staticClass:"el-icon-edit cp f20 color-main",on:{click:t.handleConnect}})]),t._v(" "),e("el-col",{staticClass:"mt-15",attrs:{span:24}},[e("strong",{staticClass:"f26"},[t._v("$ "+t._s(t.quotaSetting.TASK_QUOTA.val))])])],1)],1),t._v(" "),e("ul",{staticClass:"user-sider-mean bt-1 pt-20"},[e("router-link",{attrs:{to:"/user/cost"}},[e("li",{class:t.handleActive("cost")},[t._v("\n        Billing & Cost Management\n      ")])]),t._v(" "),e("router-link",{attrs:{to:"/user/orderInvoice"}},[e("li",{class:t.handleActive("orderInvoice")},[t._v("\n        Order and invoice\n      ")])]),t._v(" "),e("router-link",{attrs:{to:"/user/personalInfo"}},[e("li",{class:t.handleActive("personalInfo")},[t._v("\n        Personal Information& credit card\n      ")])]),t._v(" "),e("router-link",{attrs:{to:"/user/accountPassword"}},[e("li",{class:t.handleActive("accountPassword")},[t._v("\n        Account and password\n      ")])])],1)])},s=[],o=e("4360"),i=e("6455"),l=e("690a"),r={name:"",components:{},props:{},data:function(){return{userName:o["a"].getters.userInfo.accountName,avatarSrc:o["a"].getters.userInfo.imagePath||l,feeLoading:!1,quotaSetting:{QUOTA:{},TASK_QUOTA:{},MAIL_TO_USER:{}}}},computed:{},watch:{},created:function(){},mounted:function(){this.getVoucher()},beforeDestroy:function(){},methods:{handleConnect:function(){this.$alert('<div class="cb">\n        <div class="fl w10">\n        <i class="el-icon-warning color-yellow f26 mr-15"></i></div>\n        <div class="fl w90">\n        <strong>Please contact the administrator if you want to change the amount limit</strong>\n        <div class="mt-10 color-red">\n        E-mail: <a href=mailto:'.concat(this.quotaSetting.MAIL_TO_USER.val,">").concat(this.quotaSetting.MAIL_TO_USER.val,"</a>\n        </div>\n        </div>\n        </div>\n        "),{confirmButtonText:"OK",center:!0,dangerouslyUseHTMLString:!0,customClass:"show-connect-info"})},handleActive:function(t){var a=this.$route.name;return a===t?"active":""},getVoucher:function(){var t=this;this.feeLoading=!0,Object(i["n"])().then((function(a){t.feeLoading=!1,200===a.code&&(t.quotaSetting=a.data)}))}}},c=r,d=(e("c120"),e("5d22")),u=Object(d["a"])(c,n,s,!1,null,null,null);a["a"]=u.exports},c120:function(t,a,e){"use strict";e("93be")},cb0b:function(t,a,e){"use strict";e("0a7a")}}]);