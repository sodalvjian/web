(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a0a79eb"],{4910:function(t,e,a){},6258:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));var i=a("b775");function n(t,e){return Object(i["a"])({url:"api/patientListDetail/".concat(t.page,"/").concat(t.size),method:"POST",data:e})}},"70cc":function(t,e,a){"use strict";a.d(e,"d",(function(){return n})),a.d(e,"b",(function(){return s})),a.d(e,"c",(function(){return o})),a.d(e,"f",(function(){return r})),a.d(e,"a",(function(){return c})),a.d(e,"e",(function(){return l})),a.d(e,"g",(function(){return d}));var i=a("b775");function n(t){return Object(i["a"])({url:"api/search/synonyms",method:"POST",params:t})}function s(t,e){return Object(i["a"])({url:"api/concept/".concat(t),method:"GET",params:e})}function o(t,e){return Object(i["a"])({url:"api/patientList/".concat(e.page,"/").concat(e.size),method:"POST",data:t})}function r(t){return Object(i["a"])({url:"api/search/nestQueryAgg",method:"POST",data:t})}function c(t){return Object(i["a"])({url:"api/concept/child/".concat(t,"/0/1000"),method:"get"})}function l(t){return Object(i["a"])({url:"/api/patientList/createPatientList",method:"POST",data:t})}function d(t){return Object(i["a"])({url:"/api/search/phenotypeSearch",method:"POST",data:t})}},"75ef":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"vital-container"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"tl",attrs:{span:12}},[a("strong",{staticClass:"fl nav-title f16"},[t._v("Patients details")])]),t._v(" "),a("el-col",{staticClass:"tr",attrs:{span:12}},[a("el-button-group",[a("el-button",{attrs:{type:"primary",title:"Previous patient",circle:"",disabled:1===t.patientIndex,size:"medium",icon:"el-icon-arrow-left"},on:{click:t.backPatient}}),t._v(" "),a("el-button",{attrs:{disabled:t.patientIndex===t.totalNum,type:"primary",title:"Next patient",circle:"",size:"medium"},on:{click:t.nextPatient}},[a("i",{staticClass:"el-icon-arrow-right el-icon--right"})])],1)],1)],1),t._v(" "),a("h4",{staticClass:"color-main"},[t._v("Information")]),t._v(" "),a("el-row",{staticClass:"mt-20 mb-20 f15",attrs:{gutter:15}},[a("el-col",{attrs:{span:4}},[a("strong",{staticClass:"mr-5"},[t._v("PatientID:")]),t._v(t._s(t.patientId)+"\n      ")]),t._v(" "),a("el-col",{attrs:{span:6}},[a("strong",{staticClass:"mr-5"},[t._v("Name:")]),t._v(t._s(t.patientInfo.firstName+" "+t.patientInfo.lastName)+"\n      ")]),t._v(" "),a("el-col",{attrs:{span:4}},[a("strong",{staticClass:"mr-5"},[t._v("Gender:")]),t._v(t._s(t.patientInfo.gender)+"\n      ")]),t._v(" "),a("el-col",{attrs:{span:4}},[a("strong",{staticClass:"mr-5"},[t._v("DOB:")]),t._v(t._s(t.patientInfo.dob)+"\n      ")]),t._v(" "),0!==t.hitsNum?a("el-col",{attrs:{span:4}},[a("strong",{staticClass:"mr-5"},[t._v("Hit articles:")]),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Number of articles hit by condition",placement:"top"}},[a("strong",{staticClass:"color-main"},[t._v(t._s(t.hitsNum))])])],1):t._e()],1),t._v(" "),a("h4",{staticClass:"color-main"},[t._v("Notes Type")]),t._v(" "),a("div",{staticClass:"w"},[a("v-chart",{ref:"patientChart",staticStyle:{height:"250px",width:"100%"},attrs:{options:t.options,autoresize:"",theme:"light"},on:{click:t.changePatient}})],1)],1),t._v(" "),a("section",{directives:[{name:"loading",rawName:"v-loading",value:t.docLoading,expression:"docLoading"}],staticClass:"vital-container mt-20"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"f14",attrs:{span:12}},[a("svg",{staticClass:"icon f22 mr-5",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-A2"}})]),a("strong",{staticClass:"mr-15"},[t._v(t._s(t._f("setDayDate")(t.patientItemDetail.datetime)))]),t._v(" "),a("svg",{staticClass:"icon f22 mr-5",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-A6"}})]),a("strong",[t._v(t._s(t.patientItemDetail.category))])]),t._v(" "),t.commentStatus?t._e():a("el-col",{staticClass:"tr",attrs:{span:12}},[a("el-radio-group",{staticClass:"mr-15",attrs:{size:"small"},on:{change:t.addTag},model:{value:t.selectRadio,callback:function(e){t.selectRadio=e},expression:"selectRadio"}},[a("el-radio-button",{attrs:{label:"positive"}},[t._v("Positive")]),t._v(" "),a("el-radio-button",{attrs:{label:"negative"}},[t._v("Negative")]),t._v(" "),a("el-radio-button",{attrs:{label:"not sure"}},[t._v("Not sure")])],1),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small",round:""},on:{click:t.nlpResult}},[t._v("NLP result")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small",round:"",plain:""},on:{click:function(e){return t.addComment("comments")}}},[t._v("Comments")]),t._v(" "),t.jumpPointArr.length>1?a("el-button",{attrs:{title:"Previous hit",circle:"",disabled:0===t.hitIndex,size:"medium",icon:"el-icon-arrow-left"},on:{click:t.backHit}}):t._e(),t._v(" "),t.jumpPointArr.length>1?a("el-button",{attrs:{disabled:t.jumpPointArr.length-1===t.hitIndex,title:"Next hit",circle:"",size:"medium"},on:{click:t.nextHit}},[a("i",{staticClass:"el-icon-arrow-right"})]):t._e()],1),t._v(" "),t.commentStatus?a("el-col",{staticClass:"tr",attrs:{span:12}},[a("el-button",{attrs:{type:"primary",size:"small",round:""},on:{click:function(e){t.commentStatus=!1}}},[t._v("Cancel")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small",round:"",plain:""},on:{click:t.confirmComment}},[t._v("Confirm")])],1):t._e()],1),t._v(" "),t.commentStatus?a("el-row",{staticClass:"mt-15",attrs:{gutter:10}},[a("el-col",{attrs:{span:24}},[a("el-input",{staticClass:"w",attrs:{type:"textarea",rows:2,placeholder:"Please enter"},model:{value:t.commentData,callback:function(e){t.commentData=e},expression:"commentData"}})],1)],1):t._e(),t._v(" "),a("pre",{staticClass:"bd-1 p20 radius5 mt-20 hight-light-container",attrs:{id:"highlight-show"},domProps:{innerHTML:t._s(t.highlightHtml)}})],1),t._v(" "),a("el-dialog",{attrs:{title:"Save","close-on-click-modal":!1,visible:t.dialogVisible,width:"40%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("section",[a("p",[a("svg",{staticClass:"icon f22 mr-5",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-A5"}})]),t._v(" "),a("span",[t._v("\n          You are not create patient list,can not add tag.Do you want to\n          create patient list?\n        ")])]),t._v(" "),a("el-form",{ref:"formData",attrs:{"label-position":"top",prop:"patientListName","label-width":"80px",model:t.formData}},[a("el-form-item",{attrs:{label:"Patient List Name：",prop:"patientListName"}},[a("el-input",{staticClass:"radius-input",model:{value:t.formData.patientListName,callback:function(e){t.$set(t.formData,"patientListName",e)},expression:"formData.patientListName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Phenotype Name：",prop:"phenotypeName"}},[a("el-input",{staticClass:"radius-input",model:{value:t.formData.phenotypeName,callback:function(e){t.$set(t.formData,"phenotypeName",e)},expression:"formData.phenotypeName"}})],1),t._v(" "),a("el-checkbox",{staticClass:"mt-15 mb-20",attrs:{disabled:!t.formData.patientListName||!t.formData.phenotypeName},model:{value:t.formData.linkPhenotype,callback:function(e){t.$set(t.formData,"linkPhenotype",e)},expression:"formData.linkPhenotype"}},[a("strong",[t._v("\n            Do you want to link the phenotype to current patient list?")])])],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{round:""},on:{click:function(e){t.dialogVisible=!1}}},[t._v("Cancel")]),t._v(" "),a("el-button",{attrs:{round:"",type:"primary",loading:t.patientSaveLoading},on:{click:t.savePatientList}},[t._v("Comfirm")])],1)])],1)},n=[],s=a("2a50"),o=(a("75b9"),a("289f"),a("ff7b"),a("c230"),a("de52")),r=a.n(o);var c={legend:{data:[]},tooltip:{padding:10,backgroundColor:"#222",borderColor:"#777",borderWidth:1,formatter:function(t){var e,a=t.value;return e=4===a.length?a[0]+"<br/>"+a[1]+"<br/>Hit keywords: "+a[2]+"<br/>DocId: "+a[3]:a[0]+"<br/>"+a[1]+"<br/>DocId: "+a[2],e}},xAxis:{type:"category",splitLine:{show:!1}},yAxis:{type:"category",axisTick:{show:!0},axisLabel:{interval:0,rotate:30,formatter:function(t,e){return t},fontSize:11,rich:{a:{color:"#37a2da",fontSize:30,lineHeight:10},b:{color:"#32c5e9",fontSize:30,lineHeight:10},c:{color:"#66e0e3",fontSize:30,lineHeight:10},d:{color:"#ffdb5c",fontSize:30,lineHeight:10},e:{color:"#ff9e7f",fontSize:30,lineHeight:10},f:{color:"#fb7293",fontSize:30,lineHeight:10},g:{color:"#e062ae",fontSize:30,lineHeight:10},h:{color:"#e690d1",fontSize:30,lineHeight:10},i:{color:"#e7bcf3",fontSize:30,lineHeight:10},j:{color:"#9d96f6",fontSize:30,lineHeight:10},k:{color:"#8378ea",fontSize:30,lineHeight:10},l:{color:"#96bfff",fontSize:30,lineHeight:10},m:{color:"#7389ab",fontSize:30,lineHeight:10},n:{color:"#73b9bc",fontSize:30,lineHeight:10},o:{color:"#f49f42",fontSize:30,lineHeight:10},z:{color:"#ccc",fontSize:30,lineHeight:10}}},splitLine:{show:!0,lineStyle:{type:"dashed"}}},grid:{left:90,top:20,right:20,bottom:20},series:[{symbolSize:14,data:[],itemStyle:{color:"#c8c8c8"},type:"scatter"},{symbolSize:14,data:[],itemStyle:{color:"#5599ff"},type:"scatter"},{type:"effectScatter",symbolSize:14,data:[],itemStyle:{color:"#727cf5"}}]},l=c,d=a("ef87"),h=a("70cc"),p=a("6258"),m=a("b775");function u(t){return Object(m["a"])({url:"api/search/nestQuery",method:"POST",data:t})}function g(t){return Object(m["a"])({url:"api/patientListDetail/tag",method:"POST",data:t})}function f(t){return Object(m["a"])({url:"api/search/nestQueryByPatientListId",method:"POST",data:t})}function y(t,e){return Object(m["a"])({url:"api/patientListDetail/".concat(t,"/1"),method:"POST",data:e})}function v(t){return Object(m["a"])({url:"api/patientList/patientInfo/".concat(t.id),method:"GET"})}var I=a("8774"),b={name:"PatientDetail",components:{"v-chart":s["a"]},props:{},data:function(){return{options:l,patientId:this.$route.query.patientId,patientListId:this.$route.query.patientListId,patientListTagId:this.$route.query.patientListTagId,patientIndex:this.$route.query.patientIndex,totalNum:this.$route.query.totalNum,docId:0,withPhenotype:this.$route.query.withPhenotype,loading:!1,patientSaveLoading:!1,docLoading:!0,dialogVisible:!1,tagPage:1,chartOptions:{},jumpPointArr:[],index:0,hitsNum:0,hitIndex:0,patientBasicInfo:{},patientData:{},patientListData:[],highlightHtml:"",patientItemDetail:{},commentData:"",commentStatus:!1,selectRadio:"",categoryIndex:4,categoryArr:[],formData:{patientListName:"",phenotypeName:"",linkPhenotype:!1},patientTotal:0,patientInfo:{},typeData:""}},computed:{},watch:{"formData.phenotypeName":function(t,e){t&&this.formData.patientListName?t&&this.formData.patientListName&&(this.formData.linkPhenotype=!0):this.formData.linkPhenotype=!1},"formData.patientListName":function(t,e){t&&this.formData.phenotypeName?t&&this.formData.phenotypeName&&(this.formData.linkPhenotype=!0):this.formData.linkPhenotype=!1}},mounted:function(){this.$refs.patientChart.clear(),this.startHandle()},methods:{backHit:function(){this.hitIndex--,this.jumpPointArr[this.hitIndex].scrollIntoView()},nextHit:function(){this.hitIndex++,this.jumpPointArr[this.hitIndex].scrollIntoView()},nlpResult:function(){window.open("/nlpResult?id=".concat(this.docId))},startHandle:function(){var t=this;this.options.series[1].data=[],this.options.series[2].data=[],this.getPatientInfo(),this.patientListId?(this.getBaseData((function(e){JSON.parse(t.withPhenotype)?t.getPatientBypatientlist():(t.loading=!1,t.options.series[2].data=[t.options.series[0].data[t.index]],t.getGrayShow(e[0].docId))})),this.getHasTagPatientListDetail()):(sessionStorage.temporaryPatientListId&&this.getHasTagPatientListDetail(),this.getBaseData((function(){t.getData()})))},searchFunction:function(){var t=this;if(this.patientListId)if(this.withPhenotype){var e={patientPage:this.patientIndex,query:JSON.parse(sessionStorage.searchParams).query,sdate:JSON.parse(sessionStorage.searchParams).sdate,edate:JSON.parse(sessionStorage.searchParams).edate,patientSize:1,patientListId:this.patientListId,highlightFlag:!1,size:100};Object(h["g"])(e).then((function(e){if(200===e.code){var a=e.data.aggs.agg[0];t.patientTotal=e.data.aggs.total;var i=a.key;t.$router.push({path:"/patientDetail",query:{patientId:i,patientListId:t.patientListId,withPhenotype:!0,patientIndex:t.patientIndex,totalNum:t.totalNum}})}else t.$message.error(e.message)}))}else{var a={page:this.patientIndex,size:1},i={id:this.patientListId};Object(p["a"])(a,i).then((function(e){if(200===e.code){var a=e.data.content[0];t.patientTotal=e.data.totalElements;var i=a.patientId;t.$router.push({path:"/patientDetail",query:{patientId:i,patientListId:t.patientListId,withPhenotype:!1,patientIndex:t.patientIndex,totalNum:t.totalNum}})}else t.$message.error(e.message)}))}else{var n={patientPage:this.patientIndex,query:JSON.parse(sessionStorage.searchParams).query,sdate:JSON.parse(sessionStorage.searchParams).sdate,edate:JSON.parse(sessionStorage.searchParams).edate,patientSize:1};Object(h["f"])(n).then((function(e){if(200===e.code){var a=e.data.aggs.agg[0];t.patientTotal=e.data.aggs.total;var i=a.key;t.$router.push({path:"/patientDetail",query:{patientId:i,patientIndex:t.patientIndex,totalNum:t.totalNum}})}else t.$message.error(e.message)})).catch((function(t){}))}},getPatientInfo:function(){var t=this,e={id:this.patientId};v(e).then((function(e){200===e.code?t.patientInfo=e.data:t.$message.error(e.message)}))},getHasTagPatientListDetail:function(){var t=this,e={patientId:this.patientId,id:this.patientListId||sessionStorage.temporaryPatientListId};y(this.tagPage,e).then((function(e){if(200===e.code)if(e.data.content.length>0){var a=e.data.content[0];t.selectRadio=a.tag,t.commentData=a.comment}else t.selectRadio="",t.commentData="";else t.$message.error(e.message)}))},backPatient:function(){this.patientIndex--,this.searchFunction()},nextPatient:function(){this.patientIndex++,this.searchFunction()},getBaseData:function(t){var e=this;this.loading=!0,this.options=l;var a={patientids:[parseInt(this.$route.query.patientId)],page:1,size:100,sdate:JSON.parse(sessionStorage.searchParams).sdate,edate:JSON.parse(sessionStorage.searchParams).edate,sort:{field:"datetime",order:"ASC"},highlightFragment:!1};u(a).then((function(a){if(200===a.code){var i=Object.values(a.data.hits),n=Object(I["a"])(i).pluck("category"),s=Object(I["a"])(n).countBy(),o=Object(d["c"])(s),c=Object.keys(o),l=[];c.map((function(t,a){a<e.categoryIndex?l.push(t):l[e.categoryIndex]="Others"})),e.categoryArr=l,i.sort((function(t,e){return r()(t.datetime).valueOf()-r()(e.datetime).valueOf()})),e.patientListData=i,e.options.yAxis.data=l.reverse();var h=[];e.patientListData.map((function(t){h.push(t.matches.length>0?[r()(t.datetime).format("YYYY-MM-DD hh:mm:ss"),e.setCategory(t.category),t.matches.length,t.docId]:[r()(t.datetime).format("YYYY-MM-DD hh:mm:ss"),e.setCategory(t.category),t.docId])})),e.options.series[0].data=h,t(e.patientListData)}else e.$message.error(a.message)}))},getPatientBypatientlist:function(){var t=this;this.loading=!0;var e={patientListId:this.patientListId,patientids:[parseInt(this.$route.query.patientId)],highlightFragment:!1,highlightFlag:!0,page:1,size:10};f(e).then((function(e){if(200===e.code){var a=Object.values(e.data.hits);t.hitsNum=a.length>0?a.length:0,a.sort((function(t,e){return r()(t.datetime).valueOf()-r()(e.datetime).valueOf()})),t.patientListData=a;var i=Object(d["d"])(t.patientListData.map((function(t){return t.category})));t.options.yAxis.data=i,t.options.legend.data=i;var n=[];t.patientListData.map((function(e){n.push(e.matches.length>0?[r()(e.datetime).format("YYYY-MM-DD hh:mm:ss"),t.setCategory(e.category),e.matches.length,e.docId]:[r()(e.datetime).format("YYYY-MM-DD hh:mm:ss"),t.setCategory(e.category),e.docId])})),t.options.series[1].data=n,t.options.series[2].data=[n[t.index]],t.patientData=a[t.index];var s=e.data.hits.filter((function(e){return t.patientData.docId===e.docId}))[0];if(!s)return t.$message.error("Sorry,this patient has no data."),t.loading=!1,t.docLoading=!1,!1;t.patientItemDetail=s||{},t.highlightHtml=s?s.highlight[0]:"",t.loading=!1,t.docLoading=!1,t.$nextTick((function(){t.jumpPointArr=document.getElementsByTagName("em"),document.getElementsByTagName("em")&&document.getElementsByTagName("em")[0].scrollIntoView(),document.body.scrollIntoView()}))}else t.$message.error(e.message)}))},savePatientList:function(){var t=this;if(this.formData.patientListName||this.formData.phenotypeName){var e={link:this.formData.linkPhenotype,patientList:{desc:"",name:this.formData.patientListName,type:"create",id:""},phenoType:{description:"",frontQuery:sessionStorage.searchParams,name:this.formData.phenotypeName,query:sessionStorage.searchParams,type:"create"},request:{query:JSON.parse(sessionStorage.searchParams).query},savePhenoType:!!this.formData.phenotypeName,savePatientList:!!this.formData.patientListName};this.patientSaveLoading=!0,Object(h["e"])(e).then((function(e){if(200===e.code){var a=e.data.id;if(sessionStorage.temporaryPatientListId=a,"coments"===t.typeData)t.commentStatus=!0,t.commentData="";else{var i={comment:t.commentData,patientId:t.patientId,patientListId:a,tag:t.typeData};g(i).then((function(e){200===e.code?(t.patientSaveLoading=!1,t.$message.success(e.message),t.selectRadio=t.typeData,t.dialogVisible=!1):t.$message.error(e.message)}))}}}))}else this.$message.warning("Please enter patient list name or phenotype name.")},confirmComment:function(){var t=this,e={comment:this.commentData,patientId:this.patientId,patientListId:this.patientListId||sessionStorage.temporaryPatientListId,tag:this.selectRadio};g(e).then((function(e){200===e.code?(t.commentStatus=!1,t.$message.success(e.message)):t.$message.error(e.message)}))},addComment:function(){this.patientListId||sessionStorage.temporaryPatientListId?(this.commentStatus=!0,this.commentData=""):(this.dialogVisible=!0,this.typeData="comments")},addTag:function(){var t=this;if(this.patientListId||sessionStorage.temporaryPatientListId){var e=this.selectRadio,a={comment:"",patientId:this.patientId,patientListId:this.patientListId||sessionStorage.temporaryPatientListId,tag:e};g(a).then((function(e){200===e.code?sessionStorage.patientListId=e.data.patientListId:t.$message.error(e.message)}))}else this.typeData=Object(d["b"])(this.selectRadio),this.selectRadio="",this.dialogVisible=!0},changePatient:function(t){var e=this;if("effectScatter"===t.seriesType)return!1;if(this.jumpPointArr=[],this.options.series[0].data.map((function(a,i){a[0]===t.data[0]&&(e.index=i)})),this.options.series[2].data=[this.options.series[0].data[this.index]],"#c8c8c8"===t.color)this.getGrayShow(3===t.data.length?t.data[2]:t.data[3]);else if(this.options.series[1].data.map((function(a,i){a[0]===t.data[0]&&(e.index=i)})),this.patientListId)this.getPatientBypatientlist();else{var a={};this.options.series[1].data.map((function(e){3===e.length?e[2]===t.data[2]&&(a=e):e[3]===t.data[3]&&(a=e)})),this.options.series[2].data=[a],this.getHighlightShow(3===t.data.length?t.data[2]:t.data[3])}},setCategory:function(t){return-1!==this.categoryArr.indexOf(t)?t:"Others"},getData:function(){var t=this;this.loading=!0;var e={patientids:[parseInt(this.$route.query.patientId)],page:1,size:100,highlightFlag:!0,query:JSON.parse(sessionStorage.searchParams).query,sdate:JSON.parse(sessionStorage.searchParams).sdate,edate:JSON.parse(sessionStorage.searchParams).edate};u(e).then((function(e){if(200===e.code){var a=Object.values(e.data.hits);t.hitsNum=a.length>0?a.length:0,a.sort((function(t,e){return r()(t.datetime).valueOf()-r()(e.datetime).valueOf()})),t.patientListData=a;var i=a.map((function(t){return t.docId})),n=[];t.patientListData.map((function(e){n.push(e.matches.length>0?[r()(e.datetime).format("YYYY-MM-DD hh:mm:ss"),t.setCategory(e.category),e.matches.length,e.docId]:[r()(e.datetime).format("YYYY-MM-DD hh:mm:ss"),t.setCategory(e.category),e.docId])})),t.options.series[1].data=n;var s=Object(d["b"])(t.options.series[0].data);s.map((function(e,a,i){t.options.series[1].data.map((function(t){t[3]===e[3]&&(i[a]=t)}))})),t.options.series[2].data=[t.options.series[1].data[t.index]];var o=3===t.options.series[1].data[t.index].length?t.options.series[1].data[t.index][2]:t.options.series[1].data[t.index][3];t.patientData=a[t.index],t.loading=!1,-1!==i.indexOf(o)?t.getHighlightShow(o):t.getGrayShow(o)}else t.$message.error(e.message)}))},getGrayShow:function(t){var e=this;this.docId=t,this.docLoading=!0;var a={patientids:[parseInt(this.$route.query.patientId)],page:1,size:1,docId:t,highlightFlag:!0,highlightFragment:!1,loseWeight:!1,query:{}};u(a).then((function(a){if(200===a.code){var i=a.data.hits.filter((function(e){return t===e.docId}))[0];e.patientItemDetail=i,e.highlightHtml=i.text,e.docLoading=!1,document.getElementById("highlight-show").scrollTop=0}else e.$message.error(a.message)}))},getHighlightShow:function(t){var e=this;this.docId=t;var a={patientids:[parseInt(this.$route.query.patientId)],page:1,size:1,docId:t,highlightFlag:!0,highlightFragment:!1,query:JSON.parse(sessionStorage.searchParams).query,sdate:JSON.parse(sessionStorage.searchParams).sdate,edate:JSON.parse(sessionStorage.searchParams).edate};this.docLoading=!0,u(a).then((function(a){if(200===a.code){var i=a.data.hits.filter((function(e){return t===e.docId}))[0];e.patientItemDetail=i,e.highlightHtml=i.highlight[0],e.docLoading=!1,e.$nextTick((function(){e.jumpPointArr=document.getElementsByTagName("em"),document.getElementsByTagName("em")&&document.getElementsByTagName("em")[0].scrollIntoView()}))}else e.$message.error(a.message)}))}},filter:{}},S=b,D=(a("af03"),a("4023")),P=Object(D["a"])(S,i,n,!1,null,"306dca42",null);e["default"]=P.exports},af03:function(t,e,a){"use strict";var i=a("4910"),n=a.n(i);n.a},ef87:function(t,e,a){"use strict";function i(t){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}a.d(e,"b",(function(){return n})),a.d(e,"d",(function(){return s})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return r}));var n=function t(e){if(Array.isArray(e))return e.map(t);if(e&&"object"===i(e)){for(var a={},n=Object.keys(e),s=0,o=n.length;s<o;s++){var r=n[s];a[r]=t(e[r])}return a}return e},s=function(t){if(Array.isArray(t))return Array.from(new Set(t))},o=function(t){var e=[],a=[];for(var i in t)e.push(i),a.push(t[i]);for(var n=0,s=a.length;n<s;n++)for(var o=0;o<s-n;o++){var r,c;a[o]<a[o+1]&&(c=a[o],a[o]=a[o+1],a[o+1]=c,r=e[o],e[o]=e[o+1],e[o+1]=r)}for(var l={},d=0;d<a.length;d++)l[""+e[d]]=a[d];return l},r=function(){var t=0;return function(e,a){clearTimeout(t),t=setTimeout(e,a)}}()}}]);