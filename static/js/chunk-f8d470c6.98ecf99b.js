(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f8d470c6"],{"102d":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"a",(function(){return s})),a.d(e,"c",(function(){return o}));var i=a("b775");function n(t,e){return Object(i["a"])({url:"api/phenoType/".concat(t.page,"/").concat(t.size),method:"POST",data:e})}function s(t){return Object(i["a"])({url:"api/phenoType?ids=".concat(t.id),method:"DELETE"})}function o(t){return Object(i["a"])({url:"api/phenoType/",method:"PUT",data:t})}},4675:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),t._v(" "),a("section",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"mt-20 vital-container"},[a("el-form",{attrs:{inline:!0,"label-position":"left","label-width":"60px",model:t.formData}},[a("h4",{staticClass:"color-main"},[t._v("Information")]),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:18}},[a("el-form-item",{staticClass:"mb-10",attrs:{label:"Name:"}},[a("span",[t._v(t._s(t.detailData.name))])]),t._v(" "),a("el-form-item",{staticClass:"mb-10",attrs:{label:"Owner:"}},[a("span",[t._v(t._s(t.detailData.sourceUser?t.detailData.sourceUser.name:"--"))])]),t._v(" "),a("el-form-item",{staticClass:"mb-10",attrs:{label:"Create:"}},[a("span",[t._v(t._s(t._f("setHourDate")(t.detailData.create)))])]),t._v(" "),t.phenotypeTimePeriod?a("el-form-item",{staticClass:"mb-10",attrs:{"label-width":"100px",label:"Time period:"}},[a("span",[t._v(t._s(t.phenotypeTimePeriod))])]):t._e()],1)],1),t._v(" "),a("h4",{staticClass:"color-main cb"},[a("span",{staticClass:"fl"},[t._v(" Description")]),a("span",{staticClass:"fr"},[t.editStatus?t._e():a("i",{staticClass:"el-icon-edit f22 cp",on:{click:t.editData}}),t._v(" "),t.editStatus?a("span",[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){t.editStatus=!1}}},[a("i",{staticClass:"el-icon-circle-close f20"})]),t._v(" "),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:t.confirmDesc}},[a("i",{staticClass:"el-icon-success f20"})])],1):t._e()])]),t._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:24}},[t.detailData.description||t.editStatus?t._e():a("no-data",{staticClass:"mb-20"}),t._v(" "),t.editStatus?t._e():a("span",[t._v(t._s(t.detailData.description))]),t._v(" "),t.editStatus?a("el-input",{staticClass:"w",attrs:{rows:4,type:"textarea",placeholder:"Please enter the description"},model:{value:t.formData.desc,callback:function(e){t.$set(t.formData,"desc",e)},expression:"formData.desc"}}):t._e()],1)],1)],1)],1),t._v(" "),a("section",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"mt-20 vital-container"},[a("el-form",{attrs:{inline:!0,"label-position":"left","label-width":"70px",model:t.formData}},[a("h4",{staticClass:"color-main cb"},[a("span",{staticClass:"fl"},[t._v(" Information")]),a("span",{staticClass:"fr"},[a("i",{staticClass:"el-icon-circle-plus f22 cp",on:{click:t.addPatientList}})])]),t._v(" "),a("el-row",{staticClass:"mt-20",attrs:{gutter:10}},[a("el-col",{attrs:{span:24}},[t.detailData.patientLists?t._e():a("no-data",{staticClass:"mb-20"}),t._v(" "),t._l(t.detailData.patientLists,(function(e,i){return a("el-tag",{key:i,staticClass:"mr-15 cp",attrs:{effect:"dark"},on:{click:function(a){return t.goToPatientList(e)}}},[t._v("\n            "+t._s(e.name)+"\n          ")])}))],2)],1)],1)],1),t._v(" "),a("section",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"mt-20 vital-container"},[a("el-form",{attrs:{inline:!0,"label-position":"left","label-width":"70px",model:t.formData}},[a("h4",{staticClass:"color-main"},[t._v("Query details")]),t._v(" "),a("el-row",{staticClass:"mt-20",attrs:{gutter:10}},[a("el-col",{staticClass:"query-string-content",attrs:{span:24},domProps:{innerHTML:t._s(t.queryString)}})],1)],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"Add to a patient list",visible:t.dialogVisible,width:"50%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",[a("div",{staticClass:"color-main f16 fb"},[t._v("\n        Select your patient list you want to add\n      ")]),t._v(" "),a("el-select",{staticClass:"w radius-input mt-20",attrs:{filterable:"",remote:"",loading:t.patientListLoading,"remote-method":t.getPatientList,multiple:"",placeholder:"Please select patient list"},model:{value:t.addPatientData,callback:function(e){t.addPatientData=e},expression:"addPatientData"}},t._l(t.patientsOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{round:""},on:{click:function(e){t.dialogVisible=!1}}},[t._v("Cancel")]),t._v(" "),a("el-button",{attrs:{round:"",type:"primary"},on:{click:t.confirmPatient}},[t._v("Confirm")])],1)])],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"vital-container cb"},[a("strong",{staticClass:"fl nav-title f16"},[t._v("Phenotype details")])])}],s=a("b775");function o(t){return Object(s["a"])({url:"api/phenoType/".concat(t),method:"GET"})}function r(t){return Object(s["a"])({url:"api/search/searchNaming",method:"post",data:t})}var c=a("70cc"),l=a("102d");var d={components:{},data:function(){return{checked:!1,dialogVisible:!1,loading:!1,patientListLoading:!1,phenotypeId:this.$route.query.id,addPatientData:[],patientsOptions:[],queryString:"",queryData:{type:""},editStatus:!1,formData:{desc:""},detailData:{sourceUser:{name:""}},typeOptions:[]}},computed:{phenotypeTimePeriod:function(){try{var t=JSON.parse(this.detailData.frontQuery),e=t.sdate,a=t.edate;return e||a?e+" ~ "+a:""}catch(i){return""}}},watch:{},created:function(){},mounted:function(){this.getData()},methods:{goToPatientList:function(t){this.$router.push({path:"/patientListDetail",query:{id:t.id}})},confirmDesc:function(){var t=this;if(this.formData.desc){var e=[];e.push({id:this.phenotypeId,description:this.formData.desc}),Object(l["c"])(e).then((function(e){200===e.code?(t.$message.success(e.message),t.getData(),t.editStatus=!1):t.$message.error(e.message)}))}else this.$message.warning("Please enter the describtion.")},addPatientList:function(){this.dialogVisible=!0,this.addPatientData=[],this.getPatientList()},confirmPatient:function(){var t=this,e=[];e.push({id:this.phenotypeId,pIds:this.addPatientData}),Object(l["c"])(e).then((function(e){200===e.code?(t.$message.success(e.message),t.dialogVisible=!1,t.getData()):t.$message.error(e.message)}))},getPatientList:function(t){var e=this,a={name:t},i={page:1,size:10};this.patientListLoading=!0,Object(c["c"])(a,i).then((function(t){200===t.code?(e.patientsOptions=t.data.content,e.patientListLoading=!1):(e.$message.error(t.message),e.patientListLoading=!1)}))},getData:function(){var t=this;this.loading=!0,o(this.phenotypeId).then((function(e){200===e.code?(t.detailData=e.data,t.getQuery()):t.$message.error(e.message)}))},getQuery:function(){var t=this,e=JSON.parse(this.detailData.frontQuery),a=e;r(a).then((function(e){if(200===e.code){var a=e.data;t.queryString=a,t.loading=!1}else t.$message.error(e.message)}))},editData:function(){this.editStatus=!0},viewPatient:function(t,e,a){this.$router.push({path:"/patientListDetail"})},shareData:function(){this.$refs.shareModule.openDialog()},enterSharedRecord:function(){this.$router.push({path:"/sharedRecord"})},uploadData:function(){this.$refs.uploadModule.openDialog()}}},u=d,p=(a("fd8a"),a("4023")),f=Object(p["a"])(u,i,n,!1,null,"6365cd5a",null);e["default"]=f.exports},"46d5":function(t,e,a){},"70cc":function(t,e,a){"use strict";a.d(e,"d",(function(){return n})),a.d(e,"b",(function(){return s})),a.d(e,"c",(function(){return o})),a.d(e,"f",(function(){return r})),a.d(e,"a",(function(){return c})),a.d(e,"e",(function(){return l})),a.d(e,"g",(function(){return d}));var i=a("b775");function n(t){return Object(i["a"])({url:"api/search/synonyms",method:"POST",params:t})}function s(t,e){return Object(i["a"])({url:"api/concept/".concat(t),method:"GET",params:e})}function o(t,e){return Object(i["a"])({url:"api/patientList/".concat(e.page,"/").concat(e.size),method:"POST",data:t})}function r(t){return Object(i["a"])({url:"api/search/nestQueryAgg",method:"POST",data:t})}function c(t){return Object(i["a"])({url:"api/concept/child/".concat(t,"/0/1000"),method:"get"})}function l(t){return Object(i["a"])({url:"/api/patientList/createPatientList",method:"POST",data:t})}function d(t){return Object(i["a"])({url:"/api/search/phenotypeSearch",method:"POST",data:t})}},fd8a:function(t,e,a){"use strict";var i=a("46d5"),n=a.n(i);n.a}}]);