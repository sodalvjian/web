(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78df132c"],{"08a8":function(t,e,a){"use strict";var n=a("6866"),r=a.n(n);r.a},"1e1a":function(t,e,a){"use strict";var n=a("32c9"),r=a.n(n);r.a},"32c9":function(t,e,a){},6455:function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"m",(function(){return i})),a.d(e,"i",(function(){return o})),a.d(e,"h",(function(){return s})),a.d(e,"j",(function(){return l})),a.d(e,"k",(function(){return c})),a.d(e,"l",(function(){return u})),a.d(e,"o",(function(){return d})),a.d(e,"e",(function(){return m})),a.d(e,"a",(function(){return h})),a.d(e,"f",(function(){return f})),a.d(e,"d",(function(){return g})),a.d(e,"g",(function(){return p})),a.d(e,"n",(function(){return v})),a.d(e,"c",(function(){return b}));var n=a("b775");function r(t){return Object(n["a"])({url:"account/user/update/personal/info",method:"post",data:t})}function i(){return Object(n["a"])({url:"account/user/get/personal/info",method:"get"})}function o(){return Object(n["a"])({url:"account/user/get/billing/summary",method:"get"})}function s(t){return Object(n["a"])({url:"account/user/get/bill/details",method:"post",data:t})}function l(t){return Object(n["a"])({url:"account/user/get/cost/dashboard",method:"post",data:t})}function c(t){return Object(n["a"])({url:"account/user/get/order/invoice",method:"post",data:t})}function u(){return Object(n["a"])({url:"account/user/get/payment/due",method:"get"})}function d(t){return Object(n["a"])({url:"account/user/update/password",method:"post",data:t})}function m(t){return Object(n["a"])({url:"account/user/generate/single/invoice/".concat(t),method:"get"})}function h(t){return Object(n["a"])({url:"account/user/add/card",method:"post",data:t})}function f(t){return Object(n["a"])({url:"account/user/card/details/".concat(t),method:"get"})}function g(t){return Object(n["a"])({url:"account/user/update/card",method:"post",data:t})}function p(t){return Object(n["a"])({url:"account/user/list/card/".concat(t),method:"get"})}function v(t){return Object(n["a"])({url:"account/user/update/default/payment/".concat(t.defaultPayment,"/").concat(t.customerPaymentProfileId),method:"get"})}function b(t){return Object(n["a"])({url:"account/user/delete/card/".concat(t.customerPaymentProfileId),method:"get"})}},6866:function(t,e,a){},"73a7":function(t,e,a){"use strict";var n=a("9c97"),r=a.n(n);r.a},"9c97":function(t,e,a){},bb58:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("aside",{staticClass:"user-sider br-1 bg-color-white"},[a("nav",{staticClass:"tc bb-1 p20"},[a("el-avatar",{attrs:{shape:"circle",size:80,src:t.avatarSrc}}),t._v(" "),a("div",{staticClass:"mt-10"},[a("strong",{staticClass:"color-black f16"},[t._v(t._s(t.userName)+" ")]),a("i",{staticClass:"iconfont iconpro1 "})])],1),t._v(" "),a("ul",{staticClass:"user-sider-mean"},[a("router-link",{attrs:{to:"/user/cost"}},[a("li",{class:t.handleActive("cost")},[t._v("\n      Billing & Cost Management\n    ")])]),t._v(" "),a("router-link",{attrs:{to:"/user/personalInfo"}},[a("li",{class:t.handleActive("personalInfo")},[t._v("\n      Personal Information& credit card\n    ")])]),t._v(" "),a("router-link",{attrs:{to:"/user/accountPassword"}},[a("li",{class:t.handleActive("accountPassword")},[t._v("\n      Account and password\n    ")])]),t._v(" "),a("router-link",{attrs:{to:"/user/orderInvoice"}},[a("li",{class:t.handleActive("orderInvoice")},[t._v("\n      Order and invoice\n    ")])])],1)])},r=[],i=a("4360"),o=a("690a"),s={name:"",components:{},props:{},data:function(){return{userName:i["a"].getters.userInfo.accountName,avatarSrc:i["a"].getters.userInfo.imagePath||o}},computed:{},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{handleActive:function(t){var e=this.$route.name;return e===t?"active":""}}},l=s,c=a("9ca4"),u=Object(c["a"])(l,n,r,!1,null,"af8b35b8",null);e["a"]=u.exports},fe83:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("sider"),t._v(" "),a("article",{staticClass:"user-container bg-color-white w"},[t._m(0),t._v(" "),a("section",{staticClass:"p25 mt-10 w"},[a("el-form",{ref:"formData",staticClass:"user-form",attrs:{model:t.formData,"label-position":"top",size:"small","status-icon":""}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.personalLoading,expression:"personalLoading"}]},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Picture","label-width":"100px",prop:"pass"}},[a("div",{staticClass:"cb mb-20"},[a("el-avatar",{staticClass:"personal-info-avatar",attrs:{shape:"circle",size:100,src:t.avatarSrc}}),t._v(" "),a("el-button",{staticClass:"personal-info-avatar-button",attrs:{type:"primary",plain:""},on:{click:t.editAvatar}},[t._v("Edit")])],1)])],1)],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"First name",prop:"firstname"}},[a("el-input",{attrs:{type:"test",placeholder:"First name",autocomplete:"off"},model:{value:t.formData.firstname,callback:function(e){t.$set(t.formData,"firstname",e)},expression:"formData.firstname"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Last name",prop:"lastname"}},[a("el-input",{attrs:{placeholder:"Last name",type:"test",autocomplete:"off"},model:{value:t.formData.lastname,callback:function(e){t.$set(t.formData,"lastname",e)},expression:"formData.lastname"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Company name",prop:"companyName"}},[a("el-input",{attrs:{type:"test",placeholder:"Please input",autocomplete:"off"},model:{value:t.formData.companyName,callback:function(e){t.$set(t.formData,"companyName",e)},expression:"formData.companyName"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Phone Number",prop:"phoneNum"}},[a("el-input",{attrs:{placeholder:"Please input",type:"test",autocomplete:"off"},model:{value:t.formData.phoneNum,callback:function(e){t.$set(t.formData,"phoneNum",e)},expression:"formData.phoneNum"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Email",prop:"email"}},[a("el-input",{attrs:{disabled:"",placeholder:"Email",type:"test",autocomplete:"off"},model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Country/Region",prop:"countryRegion"}},[a("el-select",{staticClass:"w",attrs:{filterable:"",clearable:"",placeholder:"Select and Search"},model:{value:t.formData.countryRegion,callback:function(e){t.$set(t.formData,"countryRegion",e)},expression:"formData.countryRegion"}},t._l(t.countryList,(function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})),1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Address",prop:"street"}},[a("el-input",{attrs:{placeholder:"Street，P.O.Box,Company Name,c/o",type:"test",autocomplete:"off"},model:{value:t.formData.street,callback:function(e){t.$set(t.formData,"street",e)},expression:"formData.street"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:" ",prop:"apartment"}},[a("el-input",{attrs:{placeholder:"Apartment,suite,unit,building,floor,etc",type:"test",autocomplete:"off"},model:{value:t.formData.apartment,callback:function(e){t.$set(t.formData,"apartment",e)},expression:"formData.apartment"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"City",prop:"city"}},[a("el-input",{attrs:{placeholder:"Please input",type:"test",autocomplete:"off"},model:{value:t.formData.city,callback:function(e){t.$set(t.formData,"city",e)},expression:"formData.city"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"State/Province or region",prop:"state"}},[a("el-input",{attrs:{placeholder:"Please input",type:"test",autocomplete:"off"},model:{value:t.formData.state,callback:function(e){t.$set(t.formData,"state",e)},expression:"formData.state"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Postal Code",prop:"postalCode"}},[a("el-input-number",{attrs:{controls:!1,placeholder:"Please input"},model:{value:t.formData.postalCode,callback:function(e){t.$set(t.formData,"postalCode",e)},expression:"formData.postalCode"}})],1)],1)],1),t._v(" "),a("el-form-item",{staticClass:"mt-40 mb-50 disinblock"},[a("el-button",{attrs:{type:"primary",loading:t.btnLoading},on:{click:function(e){return t.submitForm("formData")}}},[t._v("Confirm")]),t._v(" "),a("el-button",{on:{click:function(e){return t.resetForm("formData")}}},[t._v("Reset")])],1)],1),t._v(" "),a("el-divider"),t._v(" "),a("nav",{staticClass:"mt-40"},[a("el-row",{staticClass:"w"},[a("el-col",{attrs:{span:16}},[a("strong",{staticClass:"color-black f15"},[t._v("Credit Card")])])],1)],1),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.cardLoading,expression:"cardLoading"}]},[a("el-row",{staticClass:"user-card-content",attrs:{gutter:20}},[t._l(t.cardList,(function(e,n){return a("el-col",{key:n,staticClass:"mt-20 user-card-item",attrs:{span:12}},[a("el-form-item",[a("el-card",{staticClass:"user-card",attrs:{shadow:"hover","body-style":{padding:"0"}}},[a("el-row",{staticClass:"p15",attrs:{gutter:10}},[a("el-col",{attrs:{span:16}},[a("strong",[t._v("Bank of America")])]),t._v(" "),a("el-col",{attrs:{span:8,align:"right"}},[e.defaultPayment?a("small",{staticClass:"user-card-defult"},[t._v("defult")]):t._e()])],1),t._v(" "),a("div",{staticClass:"user-card-line"}),t._v(" "),a("div",{staticClass:"user-card-chip"},[a("span",[t._v("DEBIT")])]),t._v(" "),a("div",{staticClass:"f16 colof-white p15"},[t._v("\n                    ●●●● ●●●● ●●●● "+t._s(e.cardNumber)+"\n                  ")]),t._v(" "),a("div",{staticClass:"operation-content"},[a("el-button",{attrs:{type:"danger"},on:{click:function(a){return t.deleteCard(e)}}},[t._v("Delete")]),t._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:function(a){return t.handleEdit(e)}}},[t._v("Edit")]),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:function(a){return t.setDefultPayment(e,n)}}},[t._v("Defult")])],1)],1)],1)],1)})),t._v(" "),a("el-col",{staticClass:"mt-20",attrs:{span:12}},[a("el-form-item",[a("el-card",{staticClass:"card-add-btn cp",attrs:{shadow:"hover"},nativeOn:{click:function(e){return t.handleAddCard(e)}}},[a("div",{staticClass:"tc mt-50"},[a("i",{staticClass:"el-icon-circle-plus-outline f22"})]),t._v(" "),a("div",{staticClass:"tc color-gray card-add-btn-text"},[t._v("\n                    Add bank card\n                  ")])])],1)],1)],2)],1)],1)],1)]),t._v(" "),a("add-card",{ref:"addCardRef",on:{"get-card":t.getCardList}}),t._v(" "),a("upload-avatar",{ref:"uploadAvatarRef",on:{"get-avatar":t.getAvatar}})],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"p25 bb-1"},[a("span",{staticClass:"f18 color-black"},[t._v("\n        Personal information\n      ")])])}],i=a("4360"),o=a("bb58"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:t.editStatus?"Edit credit card":"Add credit card",align:"center",visible:t.dialogVisible,"close-on-click-modal":!1,width:"40%"},on:{"update:visible":function(e){t.dialogVisible=e},close:t.resetForm}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.pageLoading,expression:"pageLoading"}],ref:"dialogForm",staticClass:"tl mt-30",attrs:{model:t.dialogForm,"label-position":"top",size:"small","status-icon":""}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Card Number",prop:"cardNumber",rules:[{required:!0,pattern:/^[1-9]\d{15}|[1-9]\d{14}$/,message:"Please input legal bank card number"}]}},[a("el-input",{attrs:{type:"test",placeholder:"Card Number",autocomplete:"off"},model:{value:t.dialogForm.cardNumber,callback:function(e){t.$set(t.dialogForm,"cardNumber",e)},expression:"dialogForm.cardNumber"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Card holder Name",prop:"firstname",rules:[{required:!0,message:"Please input card holder Name"}]}},[a("el-input",{attrs:{type:"test",placeholder:"First name",autocomplete:"off"},model:{value:t.dialogForm.firstname,callback:function(e){t.$set(t.dialogForm,"firstname",e)},expression:"dialogForm.firstname"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:" ",prop:"lastname"}},[a("el-input",{attrs:{placeholder:"Last name",type:"test",autocomplete:"off"},model:{value:t.dialogForm.lastname,callback:function(e){t.$set(t.dialogForm,"lastname",e)},expression:"dialogForm.lastname"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"dialog-item-required",attrs:{label:"Expiration Date",prop:"pass"}},[a("el-row",[a("el-col",{attrs:{span:11}},[a("el-select",{attrs:{placeholder:"MM"},model:{value:t.expirationMonth,callback:function(e){t.expirationMonth=e},expression:"expirationMonth"}},t._l(t.monthList,(function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})),1)],1),t._v(" "),a("el-col",{attrs:{span:2,align:"center"}},[t._v("/")]),t._v(" "),a("el-col",{attrs:{span:11}},[a("el-select",{attrs:{placeholder:"YY"},model:{value:t.expirationYear,callback:function(e){t.expirationYear=e},expression:"expirationYear"}},t._l(t.yearList,(function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})),1)],1)],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Security Code",prop:"securityCode",rules:[{required:!0,message:"Please input security code"}]}},[a("el-input",{attrs:{placeholder:"Security Code",type:"test",autocomplete:"off"},model:{value:t.dialogForm.securityCode,callback:function(e){t.$set(t.dialogForm,"securityCode",e)},expression:"dialogForm.securityCode"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Country/Region",prop:"countryRegion",rules:[{required:!0,message:"Please select country/region"}]}},[a("el-select",{staticClass:"w",attrs:{filterable:"",clearable:"",placeholder:"Select and Search"},model:{value:t.dialogForm.countryRegion,callback:function(e){t.$set(t.dialogForm,"countryRegion",e)},expression:"dialogForm.countryRegion"}},t._l(t.countryList,(function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})),1)],1)],1),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"Billing Address",prop:"address",rules:[{required:!0,message:"Please enter billing address"}]}},[a("el-input",{attrs:{placeholder:"Address",type:"test",autocomplete:"off"},model:{value:t.dialogForm.address,callback:function(e){t.$set(t.dialogForm,"address",e)},expression:"dialogForm.address"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"City and State",prop:"city",rules:[{required:!0,message:"Please enter city"}]}},[a("el-input",{attrs:{placeholder:"City",type:"test",autocomplete:"off"},model:{value:t.dialogForm.city,callback:function(e){t.$set(t.dialogForm,"city",e)},expression:"dialogForm.city"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:" ",prop:"state"}},[a("el-input",{attrs:{placeholder:"State",type:"test",autocomplete:"off"},model:{value:t.dialogForm.state,callback:function(e){t.$set(t.dialogForm,"state",e)},expression:"dialogForm.state"}})],1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"Default payment",prop:"defaultPayment"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.dialogForm.defaultPayment,callback:function(e){t.$set(t.dialogForm,"defaultPayment",e)},expression:"dialogForm.defaultPayment"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"mt-40 tc mb-20"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("Cancel")]),t._v(" "),a("el-button",{attrs:{size:"small",loading:t.btnLoading,type:"primary"},on:{click:function(e){return t.submitForm("dialogForm")}}},[t._v("Confirm")])],1)],1)],1)},l=[],c=a("6455"),u=["01","02","03","04","05","06","07","08","09","10","11","12"],d=m();function m(){for(var t=[],e=20,a=0;a<80;a++)t.push(String(e+a));return t}var h=["Afghanistan","Aland Islands","Albania","Algeria","American Samoa","Andorra","Angola","Anguilla","Antarctica","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas, The","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bonaire, Saint Eustatius and Saba","Bosnia and Herzegovina","Botswana","Bouvet Island","Brazil","British Indian Ocean Territory","Brunei Darussalam","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Cayman Islands","Central African Republic","Chad","Chile","China","Christmas Island","Cocos (Keeling) Islands","Colombia","Comoros","Congo","Congo, The Democratic Republic of the","Cook Islands","Costa Rica","Cote D'ivoire","Croatia","Curaçao","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Falkland Islands (Malvinas)","Faroe Islands","Fiji","Finland","France","French Guiana","French Polynesia","French Southern Territories","Gabon","Gambia, The","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Heard Island and the McDonald Islands","Holy See","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iraq","Ireland","Isle of Man","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Korea, Republic of","Kosovo, Republic of","Kuwait","Kyrgyzstan","Lao People's Democratic Republic","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macao","Macedonia, The Former Yugoslav Republic of","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia, Federated States of","Moldova, Republic of","Monaco","Mongolia","Montenegro","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Niue","Norfolk Island","Northern Mariana Islands","Norway","Oman","Pakistan","Palau","Palestinian Territories","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Pitcairn","Poland","Portugal","Puerto Rico","Qatar","Reunion","Romania","Russian Federation","Rwanda","Saint Barthelemy","Saint Helena, Ascension and Tristan da Cunha","Saint Kitts and Nevis","Saint Lucia","Saint Martin","Saint Pierre and Miquelon","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Sint Maarten","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Georgia and the South Sandwich Islands","South Sudan","Spain","Sri Lanka","Suriname","Svalbard and Jan Mayen","Swaziland","Sweden","Switzerland","Taiwan","Tajikistan","Tanzania, United Republic of","Thailand","Timor-leste","Togo","Tokelau","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Turks and Caicos Islands","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","United States Minor Outlying Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","Virgin Islands, British","Virgin Islands, U.S.","Wallis and Futuna","Western Sahara","Yemen","Zambia","Zimbabwe"];function f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function g(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?f(Object(a),!0).forEach((function(e){p(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function p(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var v={name:"",components:{},props:{},data:function(){return{countryList:h,dialogVisible:!1,editStatus:!1,pageLoading:!1,btnLoading:!1,monthList:u,yearList:d,expirationMonth:"",expirationYear:"",dialogForm:{cardNumber:"",firstname:"",lastname:"",expirationDate:"",securityCode:"",countryRegion:"",address:"",city:"",state:"",defaultPayment:1,userId:i["a"].getters.userInfo.userId}}},computed:{},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{openDialog:function(t){var e=this;this.dialogVisible=!0,this.editStatus=!1,t&&(this.editStatus=!0,this.pageLoading=!0,Object(c["f"])(t.customerPaymentProfileId).then((function(t){e.pageLoading=!1,e.dialogForm=t.data,e.dialogForm.cardNumber="●●●● ●●●● ●●●● ".concat(t.data.cardNumber),e.dialogForm.securityCode="●●●●"})))},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;var a=g({},e.dialogForm);a.expirationDate="".concat(e.expirationMonth,"/").concat(e.expirationYear);var n=e.editStatus?c["d"]:c["a"];e.btnLoading=!0,n(a).then((function(t){t.success&&(e.$message.success(t.msg),e.$emit("get-card"),e.resetForm()),e.btnLoading=!1})).catch((function(){e.btnLoading=!1}))}))},resetForm:function(t){this.$refs.dialogForm.resetFields(),Object.assign(this.$data,this.$options.data())}}},b=v,y=a("9ca4"),w=Object(y["a"])(b,s,l,!1,null,"603a35ec",null),C=w.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"Upload Avatar","custom-class":"upload-avatar",visible:t.dialogVisible,width:"600px",align:"center"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("section",{staticClass:"tc"},[a("div",{staticClass:"cb disinblock"},[a("vue-avatar",{ref:"vueavatar",staticClass:"fl",attrs:{width:300,height:300,rotation:t.rotation,scale:t.scale},on:{"vue-avatar-editor:image-ready":t.onImageReady}})],1),t._v(" "),a("div",{staticClass:"tc"},[a("el-slider",{staticClass:"disinblock upload-avatar-scale",attrs:{min:1,max:3,step:.02},model:{value:t.scale,callback:function(e){t.scale=e},expression:"scale"}})],1)]),t._v(" "),a("div",{staticClass:"mt-20 mb-20"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("Cancel")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary",loading:t.btnLoading},on:{click:t.confirmAvatar}},[t._v("Confirm")])],1)])},x=[],D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("canvas",{ref:"avatarEditorCanvas",staticClass:"cursorPointer",attrs:{width:t.canvasWidth,height:t.canvasHeight,id:"avatarEditorCanvas"},on:{dragover:function(t){t.preventDefault()},drop:t.onDrop,mousedown:t.onDragStart,touchstart:t.onDragStart,click:t.clicked}}),t._v(" "),a("input",{ref:"input",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:t.fileSelected}})])},I=[];function L(t,e){return O(t)||k(t,e)||S(t,e)||P()}function P(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(t,e){if(t){if("string"===typeof t)return M(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?M(t,e):void 0}}function M(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function k(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var a=[],n=!0,r=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)if(a.push(o.value),e&&a.length===e)break}catch(l){r=!0,i=l}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw i}}return a}}function O(t){if(Array.isArray(t))return t}var R={props:{image:{type:String,default:""},border:{type:Number,default:25},borderRadius:{type:Number,default:0},width:{type:Number,default:200},height:{type:Number,default:200},color:{type:Array,default:function(){return[0,0,0,.5]}},scale:{type:Number,default:1},rotation:{type:Number,default:0}},data:function(){return{cursor:"cursorPointer",canvas:null,context:null,dragged:!1,imageLoaded:!1,changed:!1,state:{drag:!1,my:null,mx:null,xxx:"ab",image:{x:0,y:0,resource:null}}}},computed:{canvasWidth:function(){return this.getDimensions().canvas.width},canvasHeight:function(){return this.getDimensions().canvas.height},rotationRadian:function(){return this.rotation*Math.PI/180}},mounted:function(){var t=this;if(this.canvas=this.$refs.avatarEditorCanvas,this.context=this.canvas.getContext("2d"),this.paint(),this.image)this.loadImage(this.image);else{var e=this.svgToImage('<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 65 65"><defs><style>.cls-1{fill:#000;}</style></defs><title>Upload_Upload</title><path class="cls-1" d="M32.5,1A31.5,31.5,0,1,1,1,32.5,31.54,31.54,0,0,1,32.5,1m0-1A32.5,32.5,0,1,0,65,32.5,32.5,32.5,0,0,0,32.5,0h0Z"/><polygon class="cls-1" points="41.91 28.2 32.59 18.65 23.09 28.39 24.17 29.44 31.87 21.54 31.87 40.05 33.37 40.05 33.37 21.59 40.83 29.25 41.91 28.2"/><polygon class="cls-1" points="40.66 40.35 40.66 44.35 24.34 44.35 24.34 40.35 22.34 40.35 22.34 44.35 22.34 46.35 24.34 46.35 40.66 46.35 42.66 46.35 42.66 44.35 42.66 40.35 40.66 40.35"/></svg>');e.onload=function(){var a=t.canvasWidth/2-this.width/2,n=t.canvasHeight/2-this.height/2;t.context.drawImage(e,a,n,this.width,this.height)}}},methods:{drawRoundedRect:function(t,e,a,n,r,i){if(0===i)t.rect(e,a,n,r);else{var o=n-i,s=r-i;t.translate(e,a),t.arc(i,i,i,Math.PI,1.5*Math.PI),t.lineTo(o,0),t.arc(o,i,i,1.5*Math.PI,2*Math.PI),t.lineTo(n,s),t.arc(o,s,i,2*Math.PI,.5*Math.PI),t.lineTo(i,r),t.arc(i,s,i,.5*Math.PI,Math.PI),t.translate(-e,-a)}},svgToImage:function(t){var e=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),a=self.URL||self.webkitURL||self,n=a.createObjectURL(e),r=new Image;return r.src=n,r},setState:function(t){var e=Math.ceil(1),a=Math.floor(1e4);this.state=t,this.state.cnt="HELLO"+Math.floor(Math.random()*(a-e))+e},paint:function(){this.context.save(),this.context.translate(0,0),this.context.fillStyle="rgba("+this.color.slice(0,4).join(",")+")";var t=this.borderRadius,e=this.getDimensions(),a=e.border,n=e.canvas.height,r=e.canvas.width;t=Math.max(t,0),t=Math.min(t,r/2-a,n/2-a),this.context.beginPath(),this.drawRoundedRect(this.context,a,a,r-2*a,n-2*a,t),this.context.rect(r,0,-r,n),this.context.fill("evenodd"),this.context.restore()},getDimensions:function(){return{width:this.width,height:this.height,border:this.border,canvas:{width:this.width+2*this.border,height:this.height+2*this.border}}},onDrop:function(t){var e=this;if(t=t||window.event,t.stopPropagation(),t.preventDefault(),t.dataTransfer&&t.dataTransfer.files.length){var a=new FileReader,n=t.dataTransfer.files[0];this.changed=!0,a.onload=function(t){return e.loadImage(t.target.result)},a.readAsDataURL(n)}},onDragStart:function(t){var e=this;t=t||window.event,t.preventDefault(),this.state.drag=!0,this.state.mx=null,this.state.my=null,this.cursor="cursorGrabbing";var a=document,n=!1,r=function r(o){e.onDragEnd(o),!n&&o.targetTouches&&t.target.click(),a.removeEventListener("mouseup",r),a.removeEventListener("mousemove",i),a.removeEventListener("touchend",r),a.removeEventListener("touchmove",i)},i=function(t){n=!0,e.onMouseMove(t)};a.addEventListener("mouseup",r),a.addEventListener("mousemove",i),a.addEventListener("touchend",r),a.addEventListener("touchmove",i)},onDragEnd:function(t){this.state.drag&&(this.state.drag=!1,this.cursor="cursorPointer")},onMouseMove:function(t){if(t=t||window.event,!1!==this.state.drag){this.dragged=!0,this.changed=!0;var e=this.state.image,a=e.x,n=e.y,r=t.targetTouches?t.targetTouches[0].pageX:t.clientX,i=t.targetTouches?t.targetTouches[0].pageY:t.clientY,o={mx:r,my:i,image:e};if(this.state.mx&&this.state.my){var s=(this.state.mx-r)/this.scale,l=(this.state.my-i)/this.scale;e.y=this.getBoundedY(n-l,this.scale),e.x=this.getBoundedX(a-s,this.scale)}this.state.mx=o.mx,this.state.my=o.my,this.state.image=e}},replaceImageInBounds:function(){var t=this.state.image;t.y=this.getBoundedY(t.y,this.scale),t.x=this.getBoundedX(t.x,this.scale)},loadImage:function(t){var e=this,a=new Image,n=this;a.onload=function(){var t=n.getInitialSize(a.width,a.height);n.state.image.x=0,n.state.image.y=0,n.state.image.resource=a,n.state.image.width=t.width,n.state.image.height=t.height,n.state.drag=!1,n.$emit("vue-avatar-editor:image-ready",n.scale),n.imageLoaded=!0,e.$emit("imageLoaded",n.imageLoaded),n.cursor="cursorGrab"},a.onerror=function(t){},this.isDataURL(t)||(a.crossOrigin="anonymous"),a.src=t},getInitialSize:function(t,e){var a,n,r=this.getDimensions(),i=r.height/r.width,o=e/t;return i>o?(a=this.getDimensions().height,n=t*(a/e)):(n=this.getDimensions().width,a=e*(n/t)),{height:a,width:n}},isDataURL:function(t){return null!==t&&!!t.match(/^\s*data:([a-z]+\/[a-z]+(;[a-z\-]+=[a-z\-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=\-._~:@\/?%\s]*\s*$/i)},getBoundedX:function(t,e){var a=this.state.image,n=this.getDimensions(),r=Math.abs(a.width*Math.cos(this.rotationRadian))+Math.abs(a.height*Math.sin(this.rotationRadian)),i=Math.floor((r-n.width/e)/2);return i=Math.max(0,i),Math.max(-i,Math.min(t,i))},getBoundedY:function(t,e){var a=this.state.image,n=this.getDimensions(),r=Math.abs(a.width*Math.sin(this.rotationRadian))+Math.abs(a.height*Math.cos(this.rotationRadian)),i=Math.floor((r-n.height/e)/2);return i=Math.max(0,i),Math.max(-i,Math.min(t,i))},paintImage:function(t,e,a){if(e.resource){var n=this.calculatePosition(e,a);t.save(),t.globalCompositeOperation="destination-over";var r=this.getDimensions();t.translate(r.canvas.width/2,r.canvas.height/2),t.rotate(this.rotationRadian),t.translate(-r.canvas.width/2,-r.canvas.height/2),t.drawImage(e.resource,n.x,n.y,n.width,n.height),t.restore()}},transformDataWithRotation:function(t,e){var a=-this.rotationRadian,n=t*Math.cos(a)-e*Math.sin(a),r=t*Math.sin(a)+e*Math.cos(a);return[n,r]},calculatePosition:function(t,e){t=t||this.state.image;var a=this.getDimensions(),n=t.width*this.scale,r=t.height*this.scale,i=(n-a.width)/2,o=(r-a.height)/2,s=t.x*this.scale,l=t.y*this.scale,c=this.transformDataWithRotation(s,l),u=L(c,2);return s=u[0],l=u[1],s+=e-i,l+=e-o,{x:s,y:l,height:r,width:n}},redraw:function(){this.context.clearRect(0,0,this.getDimensions().canvas.width,this.getDimensions().canvas.height),this.paint(),this.paintImage(this.context,this.state.image,this.border)},getImage:function(){var t=this.getCroppingRect(),e=this.state.image;t.x*=e.resource.width,t.y*=e.resource.height,t.width*=e.resource.width,t.height*=e.resource.height;var a=document.createElement("canvas");return a.width=t.width,a.height=t.height,a.getContext("2d").drawImage(e.resource,-t.x,-t.y),a},getImageScaled:function(){var t=this.getDimensions(),e=t.width,a=t.height,n=document.createElement("canvas");return n.width=e,n.height=a,this.paintImage(n.getContext("2d"),this.state.image,0),n},imageChanged:function(){return this.changed},getCroppingRect:function(){var t=this.getDimensions(),e={x:t.border,y:t.border,width:t.width,height:t.height},a=this.calculatePosition(this.state.image,t.border);return{x:(e.x-a.x)/a.width,y:(e.y-a.y)/a.height,width:e.width/a.width,height:e.height/a.height}},clicked:function(t){!0===this.dragged?this.dragged=!1:this.$refs.input.click()},fileSelected:function(t){var e=this,a=t.target.files||t.dataTransfer.files;if(this.$emit("select-file",a),a.length){var n=new FileReader;this.changed=!0,n.onload=function(t){return e.loadImage(t.target.result)},n.readAsDataURL(a[0])}},resetImage:function(){var t=this;this.canvas=this.$refs.avatarEditorCanvas,this.context=this.canvas.getContext("2d"),t.imageLoaded=!1,this.$emit("imageLoaded",t.imageLoaded),t.state={drag:!1,my:null,mx:null,xxx:"ab",image:{x:0,y:0,resource:null}},this.context.clearRect(0,0,this.getDimensions().canvas.width,this.getDimensions().canvas.height),this.paint();var e=this.svgToImage('<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 65 65"><defs><style>.cls-1{fill:#000;}</style></defs><title>Upload_Upload</title><path class="cls-1" d="M32.5,1A31.5,31.5,0,1,1,1,32.5,31.54,31.54,0,0,1,32.5,1m0-1A32.5,32.5,0,1,0,65,32.5,32.5,32.5,0,0,0,32.5,0h0Z"/><polygon class="cls-1" points="41.91 28.2 32.59 18.65 23.09 28.39 24.17 29.44 31.87 21.54 31.87 40.05 33.37 40.05 33.37 21.59 40.83 29.25 41.91 28.2"/><polygon class="cls-1" points="40.66 40.35 40.66 44.35 24.34 44.35 24.34 40.35 22.34 40.35 22.34 44.35 22.34 46.35 24.34 46.35 40.66 46.35 42.66 46.35 42.66 44.35 42.66 40.35 40.66 40.35"/></svg>');e.onload=function(){var a=t.canvasWidth/2-this.width/2,n=t.canvasHeight/2-this.height/2;t.context.drawImage(e,a,n,this.width,this.height)}}},watch:{state:{handler:function(t,e){this.imageLoaded&&this.redraw()},deep:!0},scale:function(){this.imageLoaded&&(this.replaceImageInBounds(),this.redraw())},rotation:function(){this.imageLoaded&&(this.replaceImageInBounds(),this.redraw())},borderRadius:function(){this.redraw()}}},F=R,j=(a("08a8"),Object(y["a"])(F,D,I,!1,null,null,null)),$=j.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("vue-avatar",{ref:"vueavatar",attrs:{width:t.width,height:t.height,rotation:t.rotation,borderRadius:t.borderRadius,border:t.border,color:t.color,scale:t.scale},on:{"vue-avatar-editor:image-ready":t.onImageReady,"select-file":function(e){return t.onSelectFile(e)}}}),t._v(" "),a("br"),t._v(" "),t.hasScale?a("label",[t._v("\n    Zoom : "+t._s(t.scale)+"x\n    "),a("br"),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.scale,expression:"scale"}],attrs:{type:"range",min:"1",max:"3",step:"0.02"},domProps:{value:t.scale},on:{__r:function(e){t.scale=e.target.value}}})]):t._e(),t._v(" "),a("br"),t._v(" "),t.hasRotation?a("label",[t._v("\n    Rotation : "+t._s(t.rotation)+"°\n    "),a("br"),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.rotation,expression:"rotation"}],attrs:{type:"range",min:"0",max:"360",step:"1"},domProps:{value:t.rotation},on:{__r:function(e){t.rotation=e.target.value}}})]):t._e(),t._v(" "),a("br"),t._v(" "),a("button",{on:{click:t.finished}},[t._v(t._s(t.finishText))])],1)},N=[],B={props:{finishText:{type:String,default:"Save"},hasRotation:{type:Boolean,default:!0},hasScale:{type:Boolean,default:!0},image:{type:String,default:""},border:{type:Number,default:25},borderRadius:{type:Number,default:0},width:{type:Number,default:200},height:{type:Number,default:200},color:{type:Array,default:function(){return[0,0,0,.5]}}},data:function(){return{rotation:0,scale:1}},components:{VueAvatar:$},methods:{onSelectFile:function(t){this.$emit("select-file",t)},onImageReady:function(){this.scale=1,this.rotation=0},finished:function(){return this.$emit("finished",this.$refs.vueavatar.getImageScaled())}}},T=B,E=Object(y["a"])(T,A,N,!1,null,null,null),z=(E.exports,a("f753")),U=a.n(z),G=a("3ed0"),V=a.n(G),Y=a("c24f"),H={name:"",components:{VueAvatar:$},props:{},data:function(){return{dialogVisible:!1,btnLoading:!1,s3Data:{},rotation:0,scale:1}},computed:{},watch:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{confirmAvatar:function(){var t=this,e=this.$refs.vueavatar.getImageScaled();e.toBlob((function(e){t.btnLoading=!0;var a={bizData:{},fileName:"avatar_".concat(V()().format("YY_MM_DD_HH_mm_ss"),".png"),type:"avatar",uuid:""};Object(Y["b"])(a).then((function(a){if(200===a.code){t.s3Data=a.data;var n="http://melaxtechinput.s3.amazonaws.com",r=new window.File([e],"avatar",{type:"image/png"}),i=new FormData;for(var o in t.s3Data)i.append(o,t.s3Data[o]);i.append("file",r),U.a.post(n,i,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.btnLoading=!1;var a=e.data;200===a.code&&(t.$message.success("Upload success."),setTimeout((function(){location.reload()}),800))}))}})).catch((function(){t.btnLoading=!1}))}))},openDialog:function(){this.dialogVisible=!0},saveClicked:function(){var t=this.$refs.vueavatar.getImageScaled();this.$refs.image.src=t.toDataURL()},onImageReady:function(){this.scale=1,this.rotation=0},resetData:function(){Object.assign(this.$data,this.$options.data())}}},q=H,K=(a("1e1a"),Object(y["a"])(q,_,x,!1,null,null,null)),W=K.exports;function J(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Z(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?J(Object(a),!0).forEach((function(e){X(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):J(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function X(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var Q=a("690a"),tt={name:"",components:{Sider:o["a"],addCard:C,UploadAvatar:W},props:{},data:function(){return{dateData:[],countryList:h,avatarSrc:i["a"].getters.userInfo.imagePath||Q,btnLoading:!1,personalLoading:!1,cardLoading:!1,cardList:[],formData:{userId:i["a"].getters.userInfo.userId,imagePath:"",firstname:"",lastname:"",companyName:"",phoneNum:"",email:i["a"].getters.userInfo.email,countryRegion:"",areaCode:"",street:"",city:"",state:"",postalCode:null}}},computed:{},watch:{},created:function(){},mounted:function(){this.getUserInfo(),this.getCardList()},beforeDestroy:function(){},methods:{handleEdit:function(t){this.$refs.addCardRef.openDialog(t)},deleteCard:function(t){var e=this;this.$confirm("Are you sure to delete?",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"}).then((function(){var a={customerPaymentProfileId:t.customerPaymentProfileId};e.cardLoading=!0,Object(c["c"])(a).then((function(t){e.cardLoading=!1,t.success&&(e.$message.success(t.msg),e.getCardList())}))})).catch((function(){e.cardLoading=!1}))},setDefultPayment:function(t){var e=this;this.$confirm("Set this card as default?",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"}).then((function(){var a={customerPaymentProfileId:t.customerPaymentProfileId,defaultPayment:1};e.cardLoading=!0,Object(c["n"])(a).then((function(t){e.cardLoading=!1,t.success&&(e.$message.success(t.msg),e.getCardList())})).catch((function(){e.cardLoading=!1}))})).catch((function(){}))},getCardList:function(){var t=this,e=i["a"].getters.userInfo.userId;this.cardLoading=!0,Object(c["g"])(e).then((function(e){t.cardLoading=!1,e.success&&(t.cardList=e.data)})).catch((function(){t.cardLoading=!1}))},getUserInfo:function(){var t=this;this.personalLoading=!0,Object(c["m"])().then((function(e){t.formData=e.data,t.personalLoading=!1})).catch((function(){t.personalLoading=!1}))},getAvatar:function(t,e){this.avatarSrc=e,this.formData.imagePath=t},editAvatar:function(){this.$refs.uploadAvatarRef.openDialog()},handleAddCard:function(){this.$refs.addCardRef.openDialog()},openBillDetail:function(){this.$router.push("/user/billDetail")},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;var a=Z({},e.formData);e.btnLoading=!0,Object(c["b"])(a).then((function(t){e.btnLoading=!1,t.success&&(e.$message.success(t.msg),setTimeout((function(){location.reload()}),800))})).catch((function(){e.btnLoading=!1}))}))},resetForm:function(t){this.$refs[t].resetFields()}}},et=tt,at=(a("73a7"),Object(y["a"])(et,n,r,!1,null,"10503412",null));e["default"]=at.exports}}]);